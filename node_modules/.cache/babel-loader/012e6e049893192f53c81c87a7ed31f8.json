{"ast":null,"code":"import _slicedToArray from\"/Users/williamrockwellevans/Desktop/Communication-User-Tool/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _classCallCheck from\"/Users/williamrockwellevans/Desktop/Communication-User-Tool/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/williamrockwellevans/Desktop/Communication-User-Tool/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/williamrockwellevans/Desktop/Communication-User-Tool/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/williamrockwellevans/Desktop/Communication-User-Tool/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import Select from'react-select';import*as d3 from'd3';import skill_search_pic from'../skill_search_pic.png';var options=[{value:'automation_engineer',label:'Automation Engineer'},{value:'computer_hardware_engineer',label:'Computer Hardware Engineer'},{value:'data_analyst',label:'Data Analyst'},{value:'data_engineer',label:'Data Engineer'},{value:'data_scientist',label:'Data Scientist'},{value:'electrical_engineer',label:'Electrical Engineer'},{value:'financial_engineer',label:'Financial Engineer'},{value:'machine_learning_engineer',label:'Machine Learning Engineer'},{value:'mechanical_engineer',label:'Mechanical Engineer'},{value:'network_engineer',label:'Network Engineer'},{value:'qa_engineer',label:'QA Engineer'},{value:'quantitative_analyst',label:'Quantitative Analyst'},{value:'quantitative_finance',label:'Quantitative Finance'},{value:'quantitative_research',label:'Quantitative Research'},{value:'quantitative_trading',label:'Quantitative Trading'},{value:'software_engineer',label:'Software Engineer'},{value:'systems_engineer',label:'Systems Engineer'},{value:'technology_analyst',label:'Technology Analyst'}];var SkillSearch=/*#__PURE__*/function(_Component){_inherits(SkillSearch,_Component);var _super=_createSuper(SkillSearch);function SkillSearch(){var _this;_classCallCheck(this,SkillSearch);_this=_super.call(this);_this.handleChange=function(selectedOption){_this.setState({selectedOption:selectedOption});console.log(_this.state.selectedOption);};_this.onClick=function(){console.log(_this.state.selectedOption);_this.getSkills(_this.state.selectedOption.value);d3.select('.skill-search_pic').style('display','none');d3.select('.graph').style('display','inline');_this.drawChart();};_this.getRandomInt=function(){return Math.floor(Math.random()*10);};_this.onClick2=function(){_this.setState({data:{\"skill5\":_this.getRandomInt(),\"skill6\":_this.getRandomInt(),\"skill7\":_this.getRandomInt(),\"skill8\":_this.getRandomInt(),\"skill9\":_this.getRandomInt()}});console.log(_this.state.data);// var svg = d3.select(this.ref.current)\n// svg.style('display', 'none');\n};_this.componentDidMount=function(){_this.state.svg=d3.select(_this.ref.current).append('svg').attr(\"class\",\"graph\").attr('width',800).attr('height',350).style('display','none');var width=_this.state.svg.attr('width');var height=_this.state.svg.attr('height');var margin={top:20,right:10,bottom:40,left:100};_this.setState({chartWidth:width-margin.left-margin.right});_this.setState({chartHeight:height-margin.top-margin.bottom});var annotations=_this.state.svg.append(\"g\").attr(\"id\",\"annotations\");_this.setState({chartArea:_this.state.svg.append(\"g\").attr(\"id\",\"chart\").attr(\"transform\",\"translate(\"+margin.left+\",\"+margin.top+\")\")});_this.setState({bottomAxis:d3.axisBottom()});_this.setState({bottomAxisG:annotations.append(\"g\").attr(\"class\",\"x axis\").attr(\"transform\",\"translate(\".concat(margin.left,\",\").concat(300+margin.top,\")\"))});_this.setState({leftAxis:d3.axisLeft()});_this.setState({leftAxisG:annotations.append(\"g\").attr(\"class\",\"y axis\").attr(\"transform\",\"translate(\".concat(margin.left-10,\",\").concat(margin.top,\")\"))});};_this.drawChart=function(){var res=[];var i=1.1;for(var _i=0,_Object$entries=Object.entries(_this.state.data);_i<_Object$entries.length;_i++){var _Object$entries$_i=_slicedToArray(_Object$entries[_i],2),key=_Object$entries$_i[0],value=_Object$entries$_i[1];i=i-.15;res.push({'skill':key,'frequency':value,'opacity':i});}var skillExtent=d3.map(res,function(d){return d.skill;});var frequencyExtent=[0,d3.max(res,function(d){return d.frequency;})];var skillScale=d3.scaleBand().domain(skillExtent).range([0,_this.state.chartHeight]).padding(0.05);_this.state.leftAxis.scale(skillScale).tickSize(0);_this.state.leftAxisG.transition().call(_this.state.leftAxis);var frequencyScale=d3.scaleLinear().domain(frequencyExtent).range([0,_this.state.chartWidth]);_this.state.chartArea.selectAll('rect.bar').data(res).join(function(enter){return enter.append('rect').attr('class','bar').attr(\"fill\",\"#FFC85C\").attr(\"x\",function(d){return 0;}).attr(\"y\",function(d){return skillScale(d.skill);}).attr(\"width\",function(d){return frequencyScale(d.frequency);}).attr(\"height\",skillScale.bandwidth()).attr(\"opacity\",function(d){return d.opacity;});},function(update){return update.call(function(update){return update.transition().attr(\"fill\",\"#FFC85C\").attr(\"x\",function(d){return 0;}).attr(\"y\",function(d){return skillScale(d.skill);}).attr(\"width\",function(d){return frequencyScale(d.frequency);}).attr(\"height\",skillScale.bandwidth());}).attr(\"opacity\",function(d){return d.opacity;});});_this.state.chartArea.selectAll('text.label').data(res).join(function(enter){return enter.append('text').attr('class','label').attr(\"text-anchor\",\"end\").attr(\"font-size\",\"15px\").attr(\"x\",function(d){return frequencyScale(d.frequency)-10;}).attr('y',function(d){return skillScale(d.skill)+skillScale.bandwidth()/2+5;}).text(function(d){if(d.frequency===0){return\"\";}else{return d.frequency;}});},function(update){return update.call(function(update){return update.transition().attr('class','label').attr(\"text-anchor\",\"end\").attr(\"font-size\",\"15px\").attr(\"x\",function(d){return frequencyScale(d.frequency)-10;}).attr('y',function(d){return skillScale(d.skill)+skillScale.bandwidth()/2+5;}).text(function(d){if(d.frequency===0){return\"\";}else{return d.frequency;}});});});};_this.state={selectedOption:null,chartExists:false,data:{\"skill1\":5,\"skill2\":8,\"skill3\":4,\"skill4\":1,\"skill5\":9},svg:null,chartWidth:null,chartHeight:null,chartArea:null,bottomAxis:null,bottomAxisG:null,leftAxis:null,leftAxisG:null,skills:[],score:0// fade: false\n// data: { \"skill1\": 5, \"skill2\": 8 }\n};_this.ref=React.createRef();return _this;}_createClass(SkillSearch,[{key:\"getSkills\",value:function getSkills(keyword){var _this2=this;fetch('/skills?keyword='+keyword).then(function(res){return res.json();}).then(function(output){_this2.setState({skills:output.output});console.log(\"OUTPUT: \",output);});}},{key:\"getScore\",value:function getScore(keyword){var _this3=this;var resume=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;var str='/score?keyword='+keyword?resume:'/score?keyword='+keyword+'&resume='+resume;;fetch(str).then(function(res){return res.json();}).then(function(output){_this3.setState({score:output.score});_this3.setState({skills:output.skills});});}// ///////////////\n},{key:\"render\",value:function render(){console.log(this.state);return/*#__PURE__*/React.createElement(\"div\",{className:\"skill-search-container\"},/*#__PURE__*/React.createElement(\"h1\",{className:\"title\"},\"Select an engineering job you're interested in!\"),/*#__PURE__*/React.createElement(\"div\",{className:\"skill-search\"},/*#__PURE__*/React.createElement(Select,{className:\"searchbar\",options:options,isClearable:true,onChange:this.handleChange}),/*#__PURE__*/React.createElement(\"button\",{type:\"button\",class:\"btn btn-outline-primary\",onClick:this.onClick,disabled:!this.state.selectedOption},\"Search\")),/*#__PURE__*/React.createElement(\"button\",{className:\"change1\",onClick:this.onClick2},\"change1\"),/*#__PURE__*/React.createElement(\"center\",null,/*#__PURE__*/React.createElement(\"img\",{src:skill_search_pic,className:\"skill-search_pic\",alt:\"skill search picture\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"chart\",ref:this.ref}));}}]);return SkillSearch;}(Component);export{SkillSearch as default};","map":{"version":3,"sources":["/Users/williamrockwellevans/Desktop/Communication-User-Tool/src/components/SkillSearch.js"],"names":["React","Component","Select","d3","skill_search_pic","options","value","label","SkillSearch","handleChange","selectedOption","setState","console","log","state","onClick","getSkills","select","style","drawChart","getRandomInt","Math","floor","random","onClick2","data","componentDidMount","svg","ref","current","append","attr","width","height","margin","top","right","bottom","left","chartWidth","chartHeight","annotations","chartArea","bottomAxis","axisBottom","bottomAxisG","leftAxis","axisLeft","leftAxisG","res","i","Object","entries","key","push","skillExtent","map","d","skill","frequencyExtent","max","frequency","skillScale","scaleBand","domain","range","padding","scale","tickSize","transition","call","frequencyScale","scaleLinear","selectAll","join","enter","bandwidth","opacity","update","text","chartExists","skills","score","createRef","keyword","fetch","then","json","output","resume","str"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport Select from 'react-select';\nimport * as d3 from 'd3';\nimport skill_search_pic from '../skill_search_pic.png';\n\nconst options = [\n    { value: 'automation_engineer', label: 'Automation Engineer' },\n    { value: 'computer_hardware_engineer', label: 'Computer Hardware Engineer' },\n    { value: 'data_analyst', label: 'Data Analyst' },\n    { value: 'data_engineer', label: 'Data Engineer' },\n    { value: 'data_scientist', label: 'Data Scientist' },\n    { value: 'electrical_engineer', label: 'Electrical Engineer' },\n    { value: 'financial_engineer', label: 'Financial Engineer' },\n    { value: 'machine_learning_engineer', label: 'Machine Learning Engineer' },\n    { value: 'mechanical_engineer', label: 'Mechanical Engineer' },\n    { value: 'network_engineer', label: 'Network Engineer' },\n    { value: 'qa_engineer', label: 'QA Engineer' },\n    { value: 'quantitative_analyst', label: 'Quantitative Analyst' },\n    { value: 'quantitative_finance', label: 'Quantitative Finance' },\n    { value: 'quantitative_research', label: 'Quantitative Research' },\n    { value: 'quantitative_trading', label: 'Quantitative Trading' },\n    { value: 'software_engineer', label: 'Software Engineer' },\n    { value: 'systems_engineer', label: 'Systems Engineer' },\n    { value: 'technology_analyst', label: 'Technology Analyst' }\n]\n\nexport default class SkillSearch extends Component {\n    constructor() {\n        super();\n        this.state = {\n            selectedOption: null,\n            chartExists: false,\n\n            data: { \"skill1\": 5, \"skill2\": 8, \"skill3\": 4, \"skill4\": 1, \"skill5\": 9 },\n\n            svg: null,\n            chartWidth: null,\n            chartHeight: null,\n            chartArea: null,\n            bottomAxis: null,\n            bottomAxisG: null,\n            leftAxis: null,\n            leftAxisG: null,\n\n            skills: [],\n            score: 0\n            // fade: false\n            // data: { \"skill1\": 5, \"skill2\": 8 }\n\n        }\n        this.ref = React.createRef()\n    }\n\n    handleChange = (selectedOption) => {\n        this.setState({ selectedOption });\n        console.log(this.state.selectedOption);\n    }\n\n\n    onClick = () => {\n        console.log(this.state.selectedOption);\n        this.getSkills(this.state.selectedOption.value);\n        d3.select('.skill-search_pic').style('display', 'none');\n        d3.select('.graph').style('display', 'inline');\n        this.drawChart();\n    }\n\n    getSkills(keyword) {\n        fetch('/skills?keyword=' + keyword).then(res => res.json()).then(output => {\n            this.setState({ skills: output.output });\n            console.log(\"OUTPUT: \", output)\n        })\n    }\n\n    getScore(keyword, resume = null) {\n        let str = '/score?keyword=' + keyword ? resume : '/score?keyword=' + keyword + '&resume=' + resume;;\n\n        fetch(str).then(res => res.json()).then(output => {\n            this.setState({ score: output.score })\n            this.setState({ skills: output.skills })\n        })\n    }\n\n    // ///////////////\n    getRandomInt = () => {\n        return Math.floor(Math.random() * 10);\n    }\n\n    onClick2 = () => {\n        this.setState({ data: { \"skill5\": this.getRandomInt(), \"skill6\": this.getRandomInt(), \"skill7\": this.getRandomInt(), \"skill8\": this.getRandomInt(), \"skill9\": this.getRandomInt() } })\n        console.log(this.state.data)\n        // var svg = d3.select(this.ref.current)\n        // svg.style('display', 'none');\n    }\n    // ///////////////\n\n    componentDidMount = () => {\n\n        this.state.svg = d3.select(this.ref.current)\n            .append('svg')\n            .attr(\"class\", \"graph\")\n            .attr('width', 800)\n            .attr('height', 350)\n            .style('display', 'none');\n\n        const width = this.state.svg.attr('width');\n        const height = this.state.svg.attr('height');\n\n        const margin = { top: 20, right: 10, bottom: 40, left: 100 };\n        this.setState({ chartWidth: width - margin.left - margin.right });\n        this.setState({ chartHeight: height - margin.top - margin.bottom });\n\n        const annotations = this.state.svg.append(\"g\").attr(\"id\", \"annotations\");\n        this.setState({\n            chartArea: this.state.svg.append(\"g\").attr(\"id\", \"chart\")\n                .attr(\"transform\", \"translate(\" + margin.left + \",\" + margin.top + \")\")\n        });\n\n        this.setState({ bottomAxis: d3.axisBottom() });\n        this.setState({\n            bottomAxisG: annotations.append(\"g\")\n                .attr(\"class\", \"x axis\")\n                .attr(\"transform\", `translate(${margin.left},${300 + margin.top})`)\n        });\n\n        this.setState({ leftAxis: d3.axisLeft() });\n        this.setState({\n            leftAxisG: annotations.append(\"g\")\n                .attr(\"class\", \"y axis\")\n                .attr(\"transform\", `translate(${margin.left - 10},${margin.top})`)\n        });\n\n    }\n\n    drawChart = () => {\n        var res = []\n        var i = 1.1\n        for (const [key, value] of Object.entries(this.state.data)) {\n            i = i - .15\n            res.push({\n                'skill': key,\n                'frequency': value,\n                'opacity': i\n            })\n        }\n\n        const skillExtent = d3.map(res, d => d.skill)\n\n        const frequencyExtent = [0, d3.max(res, d => d.frequency)]\n\n        const skillScale = d3.scaleBand().domain(skillExtent).range([0, this.state.chartHeight])\n            .padding(0.05);\n\n\n        this.state.leftAxis.scale(skillScale).tickSize(0);\n        this.state.leftAxisG.transition().call(this.state.leftAxis);\n\n        const frequencyScale = d3.scaleLinear().domain(frequencyExtent).range([0, this.state.chartWidth]);\n\n        this.state.chartArea.selectAll('rect.bar').data(res)\n            .join(enter => enter.append('rect')\n                .attr('class', 'bar')\n                .attr(\"fill\", \"#FFC85C\")\n                .attr(\"x\", d => 0)\n                .attr(\"y\", d => skillScale(d.skill))\n                .attr(\"width\", d => frequencyScale(d.frequency))\n                .attr(\"height\", skillScale.bandwidth())\n                .attr(\"opacity\", d => d.opacity),\n                update => update.call(update => update.transition()\n                    .attr(\"fill\", \"#FFC85C\")\n                    .attr(\"x\", d => 0)\n                    .attr(\"y\", d => skillScale(d.skill))\n                    .attr(\"width\", d => frequencyScale(d.frequency))\n                    .attr(\"height\", skillScale.bandwidth()))\n                    .attr(\"opacity\", d => d.opacity));\n\n        this.state.chartArea.selectAll('text.label').data(res)\n            .join(enter => enter.append('text')\n                .attr('class', 'label')\n                .attr(\"text-anchor\", \"end\")\n                .attr(\"font-size\", \"15px\")\n                .attr(\"x\", d => frequencyScale(d.frequency) - 10)\n                .attr('y', d => skillScale(d.skill) + skillScale.bandwidth() / 2 + 5)\n                .text(d => {\n                    if (d.frequency === 0) { return \"\"; }\n                    else { return d.frequency; }\n                }),\n                update => update.call(update => update.transition()\n                    .attr('class', 'label')\n                    .attr(\"text-anchor\", \"end\")\n                    .attr(\"font-size\", \"15px\")\n                    .attr(\"x\", d => frequencyScale(d.frequency) - 10)\n                    .attr('y', d => skillScale(d.skill) + skillScale.bandwidth() / 2 + 5)\n                    .text(d => {\n                        if (d.frequency === 0) { return \"\"; }\n                        else { return d.frequency; }\n                    })));\n    }\n\n    render() {\n        console.log(this.state);\n\n        return (\n            <div className=\"skill-search-container\" >\n                <h1 className=\"title\">Select an engineering job you're interested in!</h1>\n                <div className=\"skill-search\">\n                    <Select className=\"searchbar\" options={options} isClearable={true} onChange={this.handleChange} />\n                    <button type=\"button\" class=\"btn btn-outline-primary\" onClick={this.onClick} disabled={!this.state.selectedOption}\n                    >Search</button>\n                </div>\n                <button className=\"change1\" onClick={this.onClick2}>change1</button>\n                <center><img src={skill_search_pic} className=\"skill-search_pic\" alt=\"skill search picture\" /></center>\n                <div className=\"chart\" ref={this.ref} />\n            </div>\n        )\n    }\n}"]},"metadata":{},"sourceType":"module"}