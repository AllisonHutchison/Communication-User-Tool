'use strict';
var $ = require('../internals/export');
var flattenIntoArray = require('../internals/flatten-into-array');
<<<<<<< HEAD
var aCallable = require('../internals/a-callable');
var toObject = require('../internals/to-object');
var lengthOfArrayLike = require('../internals/length-of-array-like');
=======
var toObject = require('../internals/to-object');
var toLength = require('../internals/to-length');
var aFunction = require('../internals/a-function');
>>>>>>> 39a8ac91c1203e59702c1b86c18a4c5e5058db03
var arraySpeciesCreate = require('../internals/array-species-create');

// `Array.prototype.flatMap` method
// https://tc39.es/ecma262/#sec-array.prototype.flatmap
$({ target: 'Array', proto: true }, {
  flatMap: function flatMap(callbackfn /* , thisArg */) {
    var O = toObject(this);
<<<<<<< HEAD
    var sourceLen = lengthOfArrayLike(O);
    var A;
    aCallable(callbackfn);
=======
    var sourceLen = toLength(O.length);
    var A;
    aFunction(callbackfn);
>>>>>>> 39a8ac91c1203e59702c1b86c18a4c5e5058db03
    A = arraySpeciesCreate(O, 0);
    A.length = flattenIntoArray(A, O, O, sourceLen, 0, 1, callbackfn, arguments.length > 1 ? arguments[1] : undefined);
    return A;
  }
});
