<<<<<<< HEAD
var arraySpeciesConstructor = require('../internals/array-species-constructor');
=======
var isObject = require('../internals/is-object');
var isArray = require('../internals/is-array');
var wellKnownSymbol = require('../internals/well-known-symbol');

var SPECIES = wellKnownSymbol('species');
>>>>>>> 39a8ac91c1203e59702c1b86c18a4c5e5058db03

// `ArraySpeciesCreate` abstract operation
// https://tc39.es/ecma262/#sec-arrayspeciescreate
module.exports = function (originalArray, length) {
<<<<<<< HEAD
  return new (arraySpeciesConstructor(originalArray))(length === 0 ? 0 : length);
=======
  var C;
  if (isArray(originalArray)) {
    C = originalArray.constructor;
    // cross-realm fallback
    if (typeof C == 'function' && (C === Array || isArray(C.prototype))) C = undefined;
    else if (isObject(C)) {
      C = C[SPECIES];
      if (C === null) C = undefined;
    }
  } return new (C === undefined ? Array : C)(length === 0 ? 0 : length);
>>>>>>> 39a8ac91c1203e59702c1b86c18a4c5e5058db03
};
