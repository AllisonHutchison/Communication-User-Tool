var fails = require('../internals/fails');
<<<<<<< HEAD
var isCallable = require('../internals/is-callable');
=======
>>>>>>> 39a8ac91c1203e59702c1b86c18a4c5e5058db03

var replacement = /#|\.prototype\./;

var isForced = function (feature, detection) {
  var value = data[normalize(feature)];
  return value == POLYFILL ? true
    : value == NATIVE ? false
<<<<<<< HEAD
    : isCallable(detection) ? fails(detection)
=======
    : typeof detection == 'function' ? fails(detection)
>>>>>>> 39a8ac91c1203e59702c1b86c18a4c5e5058db03
    : !!detection;
};

var normalize = isForced.normalize = function (string) {
  return String(string).replace(replacement, '.').toLowerCase();
};

var data = isForced.data = {};
var NATIVE = isForced.NATIVE = 'N';
var POLYFILL = isForced.POLYFILL = 'P';

module.exports = isForced;
