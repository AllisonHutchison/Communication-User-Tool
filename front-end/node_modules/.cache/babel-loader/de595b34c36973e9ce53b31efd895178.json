{"ast":null,"code":"import _classCallCheck from\"/Users/roninsharma/Desktop/Cornell/FALL 2021/ENGRC 3350/Communication-User-Tool/front-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/roninsharma/Desktop/Cornell/FALL 2021/ENGRC 3350/Communication-User-Tool/front-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/Users/roninsharma/Desktop/Cornell/FALL 2021/ENGRC 3350/Communication-User-Tool/front-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/roninsharma/Desktop/Cornell/FALL 2021/ENGRC 3350/Communication-User-Tool/front-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/roninsharma/Desktop/Cornell/FALL 2021/ENGRC 3350/Communication-User-Tool/front-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import ReadinessScore from\"./ReadinessScore\";import*as d3 from\"d3\";import ConfettiExplosion from\"@reonomy/react-confetti-explosion\";var Analytics=/*#__PURE__*/function(_Component){_inherits(Analytics,_Component);var _super=_createSuper(Analytics);function Analytics(props){var _this;_classCallCheck(this,Analytics);_this=_super.call(this,props);_this.greaterThanEighty=function(num){console.log(typeof num);return num>=80;};_this.getRandomInt=function(){return Math.floor(Math.random()*100);};_this.onClick=function(){_this.setState({buttonDisplay:false},function(){_this.setState({isExploding:false},function(){console.log(_this.props.data);d3.select(\".graph\").style(\"display\",\"inline\");_this.drawChart();});});};_this.componentDidMount=function(){_this.state.svg=d3.select(_this.ref.current).append(\"svg\").attr(\"class\",\"graph\").attr(\"width\",800).attr(\"height\",500).style(\"display\",\"none\");var width=_this.state.svg.attr(\"width\");var height=_this.state.svg.attr(\"height\");var margin={top:20,right:70,bottom:40,left:100};_this.setState({chartWidth:width-margin.left-margin.right});_this.setState({chartHeight:height-margin.top-margin.bottom});var annotations=_this.state.svg.append(\"g\").attr(\"id\",\"annotations\");_this.setState({chartArea:_this.state.svg.append(\"g\").attr(\"id\",\"chart\").attr(\"transform\",\"translate(\".concat(margin.left,\",\").concat(margin.top,\")\"))});_this.setState({bottomAxis:d3.axisBottom()});_this.setState({bottomAxisG:annotations.append(\"g\").attr(\"class\",\"x axis\").attr(\"transform\",\"translate(\".concat(margin.left,\",\").concat(300+margin.top,\")\"))});_this.setState({leftAxis:d3.axisLeft()});_this.setState({leftAxisG:annotations.append(\"g\").attr(\"class\",\"y axis\").attr(\"transform\",\"translate(\".concat(margin.left-10,\",\").concat(margin.top,\")\"))});};_this.drawChart=function(){// var res = [];\n// var i = 1.0;\n// const col = [\"#018588\", \"#FFC85C\"];\n// for (const [key, v] of Object.entries(this.props.data)) {\n//   i = i - 0.1;\n//   for (var j = 0; j < v.length; j++) {\n//     res.push({\n//       skill: key,\n//       frequency: v[j],\n//       opacity: i,\n//       color: col[j],\n//     });\n//   }\n// }\nvar res=_this.props.data;var skillExtent=d3.map(res,function(d){return d.skill;});// console.log(skillExtent);\nvar frequencyExtent=[0,d3.max(res,function(d){return d.frequency;})];var skillScale=d3.scaleBand().domain(skillExtent).range([0,_this.state.chartHeight]);for(var _i=0,_Object$entries=Object.entries(res);_i<_Object$entries.length;_i++){var d=_Object$entries[_i];console.log(d.skill);console.log(skillScale(d.skill));}console.log(skillScale);_this.state.leftAxis.scale(skillScale).tickSize(0);_this.state.leftAxisG.transition().call(_this.state.leftAxis);var frequencyScale=d3.scaleLinear().domain(frequencyExtent).range([0,_this.state.chartWidth]);_this.state.chartArea.selectAll(\"rect.bar\").data(res).join(function(enter){return enter.append(\"rect\").attr(\"class\",\"bar\").attr(\"fill\",function(d){return d.color;}).attr(\"x\",function(d){return 0;}).attr(\"y\",function(d){return d.color===\"#018588\"?skillScale(d.skill):skillScale(d.skill)+0.5*skillScale.bandwidth();}).attr(\"width\",function(d){return frequencyScale(d.frequency);}).attr(\"height\",0.5*skillScale.bandwidth()).attr(\"opacity\",function(d){return d.opacity;});});_this.state.chartArea.selectAll(\"text.label\").data(res).join(function(enter){return enter.append(\"text\").attr(\"class\",\"label\").attr(\"text-anchor\",\"end\").attr(\"font-size\",\"15px\").attr(\"x\",function(d){return frequencyScale(d.frequency)+15;}).attr(\"y\",function(d){return d.color===\"#018588\"?skillScale(d.skill)+skillScale.bandwidth()/4+5:skillScale(d.skill)+3*skillScale.bandwidth()/4+5;}).text(function(d){if(d.frequency===0){return\"\";}else{return d.frequency;}});});};_this.state={chartExists:false,svg:null,chartWidth:null,chartHeight:null,chartArea:null,bottomAxis:null,bottomAxisG:null,leftAxis:null,leftAxisG:null,isExploding:_this.greaterThanEighty(_this.props.score),getColor:true,buttonDisplay:true};_this.ref=React.createRef();_this.onClick=_this.onClick.bind(_assertThisInitialized(_this));_this.greaterThanEighty=_this.greaterThanEighty.bind(_assertThisInitialized(_this));return _this;}_createClass(Analytics,[{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(\"div\",{className:\"analytics-page\"},/*#__PURE__*/React.createElement(ReadinessScore,{handleBack:this.props.handleBack,score:this.props.score,className:\"readiness-score-analytics\"}),this.state.isExploding&&/*#__PURE__*/React.createElement(ConfettiExplosion,{style:{force:\"0.6\",duration:\"5000\",particleCount:\"200\"}}),/*#__PURE__*/React.createElement(\"div\",{className:\"communication-skills-chart-container\"},/*#__PURE__*/React.createElement(\"h4\",{className:\"important-communication-title\"},\"Most Important Communication Skills:\",\" \"),this.state.buttonDisplay&&/*#__PURE__*/React.createElement(\"button\",{onClick:this.onClick,className:\"start-button\"},\" \",\"Display Analysis\",\" \"),/*#__PURE__*/React.createElement(\"div\",{style:{alignItems:\"left\"}},/*#__PURE__*/React.createElement(\"div\",{className:\"chart\",ref:this.ref}))),/*#__PURE__*/React.createElement(\"div\",{className:\"resume_next\"},/*#__PURE__*/React.createElement(\"h3\",null,\"Next Steps\"),/*#__PURE__*/React.createElement(\"p\",null,\"Compare and contrast the communication skills of your resume (in yellow) and the job you entered (in green). Make some changes, try putting in your new resume, and see if your Readiness Score rises! Based on these results, you can revise your resume to better demonstrate the preferred communication skills for this job! Head over to our \\u2018About Us\\u2019 page to wrap up your skills analysis and meet our team.\")));}}]);return Analytics;}(Component);export{Analytics as default};","map":{"version":3,"sources":["/Users/roninsharma/Desktop/Cornell/FALL 2021/ENGRC 3350/Communication-User-Tool/front-end/src/components/Analytics.js"],"names":["React","Component","ReadinessScore","d3","ConfettiExplosion","Analytics","props","greaterThanEighty","num","console","log","getRandomInt","Math","floor","random","onClick","setState","buttonDisplay","isExploding","data","select","style","drawChart","componentDidMount","state","svg","ref","current","append","attr","width","height","margin","top","right","bottom","left","chartWidth","chartHeight","annotations","chartArea","bottomAxis","axisBottom","bottomAxisG","leftAxis","axisLeft","leftAxisG","res","skillExtent","map","d","skill","frequencyExtent","max","frequency","skillScale","scaleBand","domain","range","Object","entries","scale","tickSize","transition","call","frequencyScale","scaleLinear","selectAll","join","enter","color","bandwidth","opacity","text","chartExists","score","getColor","createRef","bind","handleBack","force","duration","particleCount","alignItems"],"mappings":"ghCAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAOC,CAAAA,cAAP,KAA2B,kBAA3B,CACA,MAAO,GAAKC,CAAAA,EAAZ,KAAoB,IAApB,CACA,MAAOC,CAAAA,iBAAP,KAA8B,mCAA9B,C,GAEqBC,CAAAA,S,sGACnB,mBAAYC,KAAZ,CAAmB,2CACjB,uBAAMA,KAAN,EADiB,MAyBnBC,iBAzBmB,CAyBC,SAACC,GAAD,CAAS,CAC3BC,OAAO,CAACC,GAAR,CAAY,MAAOF,CAAAA,GAAnB,EACA,MAAOA,CAAAA,GAAG,EAAI,EAAd,CACD,CA5BkB,OA8BnBG,YA9BmB,CA8BJ,UAAM,CACnB,MAAOC,CAAAA,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,MAAL,GAAgB,GAA3B,CAAP,CACD,CAhCkB,OAkCnBC,OAlCmB,CAkCT,UAAM,CACd,MAAKC,QAAL,CAAc,CAAEC,aAAa,CAAE,KAAjB,CAAd,CAAwC,UAAM,CAC5C,MAAKD,QAAL,CAAc,CAAEE,WAAW,CAAE,KAAf,CAAd,CAAsC,UAAM,CAC1CT,OAAO,CAACC,GAAR,CAAY,MAAKJ,KAAL,CAAWa,IAAvB,EACAhB,EAAE,CAACiB,MAAH,CAAU,QAAV,EAAoBC,KAApB,CAA0B,SAA1B,CAAqC,QAArC,EACA,MAAKC,SAAL,GACD,CAJD,EAKD,CAND,EAOD,CA1CkB,OA4CnBC,iBA5CmB,CA4CC,UAAM,CACxB,MAAKC,KAAL,CAAWC,GAAX,CAAiBtB,EAAE,CAChBiB,MADc,CACP,MAAKM,GAAL,CAASC,OADF,EAEdC,MAFc,CAEP,KAFO,EAGdC,IAHc,CAGT,OAHS,CAGA,OAHA,EAIdA,IAJc,CAIT,OAJS,CAIA,GAJA,EAKdA,IALc,CAKT,QALS,CAKC,GALD,EAMdR,KANc,CAMR,SANQ,CAMG,MANH,CAAjB,CAQA,GAAMS,CAAAA,KAAK,CAAG,MAAKN,KAAL,CAAWC,GAAX,CAAeI,IAAf,CAAoB,OAApB,CAAd,CACA,GAAME,CAAAA,MAAM,CAAG,MAAKP,KAAL,CAAWC,GAAX,CAAeI,IAAf,CAAoB,QAApB,CAAf,CAEA,GAAMG,CAAAA,MAAM,CAAG,CAAEC,GAAG,CAAE,EAAP,CAAWC,KAAK,CAAE,EAAlB,CAAsBC,MAAM,CAAE,EAA9B,CAAkCC,IAAI,CAAE,GAAxC,CAAf,CACA,MAAKpB,QAAL,CAAc,CAAEqB,UAAU,CAAEP,KAAK,CAAGE,MAAM,CAACI,IAAf,CAAsBJ,MAAM,CAACE,KAA3C,CAAd,EACA,MAAKlB,QAAL,CAAc,CAAEsB,WAAW,CAAEP,MAAM,CAAGC,MAAM,CAACC,GAAhB,CAAsBD,MAAM,CAACG,MAA5C,CAAd,EAEA,GAAMI,CAAAA,WAAW,CAAG,MAAKf,KAAL,CAAWC,GAAX,CAAeG,MAAf,CAAsB,GAAtB,EAA2BC,IAA3B,CAAgC,IAAhC,CAAsC,aAAtC,CAApB,CACA,MAAKb,QAAL,CAAc,CACZwB,SAAS,CAAE,MAAKhB,KAAL,CAAWC,GAAX,CACRG,MADQ,CACD,GADC,EAERC,IAFQ,CAEH,IAFG,CAEG,OAFH,EAGRA,IAHQ,CAGH,WAHG,qBAGuBG,MAAM,CAACI,IAH9B,aAGsCJ,MAAM,CAACC,GAH7C,MADC,CAAd,EAOA,MAAKjB,QAAL,CAAc,CAAEyB,UAAU,CAAEtC,EAAE,CAACuC,UAAH,EAAd,CAAd,EACA,MAAK1B,QAAL,CAAc,CACZ2B,WAAW,CAAEJ,WAAW,CACrBX,MADU,CACH,GADG,EAEVC,IAFU,CAEL,OAFK,CAEI,QAFJ,EAGVA,IAHU,CAGL,WAHK,qBAGqBG,MAAM,CAACI,IAH5B,aAGoC,IAAMJ,MAAM,CAACC,GAHjD,MADD,CAAd,EAOA,MAAKjB,QAAL,CAAc,CAAE4B,QAAQ,CAAEzC,EAAE,CAAC0C,QAAH,EAAZ,CAAd,EACA,MAAK7B,QAAL,CAAc,CACZ8B,SAAS,CAAEP,WAAW,CACnBX,MADQ,CACD,GADC,EAERC,IAFQ,CAEH,OAFG,CAEM,QAFN,EAGRA,IAHQ,CAGH,WAHG,qBAGuBG,MAAM,CAACI,IAAP,CAAc,EAHrC,aAG2CJ,MAAM,CAACC,GAHlD,MADC,CAAd,EAMD,CAnFkB,OAqFnBX,SArFmB,CAqFP,UAAM,CAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,GAAIyB,CAAAA,GAAG,CAAG,MAAKzC,KAAL,CAAWa,IAArB,CAEA,GAAM6B,CAAAA,WAAW,CAAG7C,EAAE,CAAC8C,GAAH,CAAOF,GAAP,CAAY,SAACG,CAAD,QAAOA,CAAAA,CAAC,CAACC,KAAT,EAAZ,CAApB,CACA;AAEA,GAAMC,CAAAA,eAAe,CAAG,CAAC,CAAD,CAAIjD,EAAE,CAACkD,GAAH,CAAON,GAAP,CAAY,SAACG,CAAD,QAAOA,CAAAA,CAAC,CAACI,SAAT,EAAZ,CAAJ,CAAxB,CAEA,GAAMC,CAAAA,UAAU,CAAGpD,EAAE,CAClBqD,SADgB,GAEhBC,MAFgB,CAETT,WAFS,EAGhBU,KAHgB,CAGV,CAAC,CAAD,CAAI,MAAKlC,KAAL,CAAWc,WAAf,CAHU,CAAnB,CAKA,6BAAgBqB,MAAM,CAACC,OAAP,CAAeb,GAAf,CAAhB,gCAAqC,CAAhC,GAAMG,CAAAA,CAAC,oBAAP,CACHzC,OAAO,CAACC,GAAR,CAAYwC,CAAC,CAACC,KAAd,EACA1C,OAAO,CAACC,GAAR,CAAY6C,UAAU,CAACL,CAAC,CAACC,KAAH,CAAtB,EACD,CAED1C,OAAO,CAACC,GAAR,CAAY6C,UAAZ,EAEA,MAAK/B,KAAL,CAAWoB,QAAX,CAAoBiB,KAApB,CAA0BN,UAA1B,EAAsCO,QAAtC,CAA+C,CAA/C,EACA,MAAKtC,KAAL,CAAWsB,SAAX,CAAqBiB,UAArB,GAAkCC,IAAlC,CAAuC,MAAKxC,KAAL,CAAWoB,QAAlD,EAEA,GAAMqB,CAAAA,cAAc,CAAG9D,EAAE,CACtB+D,WADoB,GAEpBT,MAFoB,CAEbL,eAFa,EAGpBM,KAHoB,CAGd,CAAC,CAAD,CAAI,MAAKlC,KAAL,CAAWa,UAAf,CAHc,CAAvB,CAKA,MAAKb,KAAL,CAAWgB,SAAX,CACG2B,SADH,CACa,UADb,EAEGhD,IAFH,CAEQ4B,GAFR,EAGGqB,IAHH,CAGQ,SAACC,KAAD,QACJA,CAAAA,KAAK,CACFzC,MADH,CACU,MADV,EAEGC,IAFH,CAEQ,OAFR,CAEiB,KAFjB,EAGGA,IAHH,CAGQ,MAHR,CAGgB,SAACqB,CAAD,QAAOA,CAAAA,CAAC,CAACoB,KAAT,EAHhB,EAIGzC,IAJH,CAIQ,GAJR,CAIa,SAACqB,CAAD,QAAO,EAAP,EAJb,EAKGrB,IALH,CAKQ,GALR,CAKa,SAACqB,CAAD,QACTA,CAAAA,CAAC,CAACoB,KAAF,GAAY,SAAZ,CACIf,UAAU,CAACL,CAAC,CAACC,KAAH,CADd,CAEII,UAAU,CAACL,CAAC,CAACC,KAAH,CAAV,CAAsB,IAAMI,UAAU,CAACgB,SAAX,EAHvB,EALb,EAUG1C,IAVH,CAUQ,OAVR,CAUiB,SAACqB,CAAD,QAAOe,CAAAA,cAAc,CAACf,CAAC,CAACI,SAAH,CAArB,EAVjB,EAWGzB,IAXH,CAWQ,QAXR,CAWkB,IAAM0B,UAAU,CAACgB,SAAX,EAXxB,EAYG1C,IAZH,CAYQ,SAZR,CAYmB,SAACqB,CAAD,QAAOA,CAAAA,CAAC,CAACsB,OAAT,EAZnB,CADI,EAHR,EAmBA,MAAKhD,KAAL,CAAWgB,SAAX,CACG2B,SADH,CACa,YADb,EAEGhD,IAFH,CAEQ4B,GAFR,EAGGqB,IAHH,CAGQ,SAACC,KAAD,QACJA,CAAAA,KAAK,CACFzC,MADH,CACU,MADV,EAEGC,IAFH,CAEQ,OAFR,CAEiB,OAFjB,EAGGA,IAHH,CAGQ,aAHR,CAGuB,KAHvB,EAIGA,IAJH,CAIQ,WAJR,CAIqB,MAJrB,EAKGA,IALH,CAKQ,GALR,CAKa,SAACqB,CAAD,QAAOe,CAAAA,cAAc,CAACf,CAAC,CAACI,SAAH,CAAd,CAA8B,EAArC,EALb,EAMGzB,IANH,CAMQ,GANR,CAMa,SAACqB,CAAD,QACTA,CAAAA,CAAC,CAACoB,KAAF,GAAY,SAAZ,CACIf,UAAU,CAACL,CAAC,CAACC,KAAH,CAAV,CAAsBI,UAAU,CAACgB,SAAX,GAAyB,CAA/C,CAAmD,CADvD,CAEIhB,UAAU,CAACL,CAAC,CAACC,KAAH,CAAV,CAAuB,EAAII,UAAU,CAACgB,SAAX,EAAL,CAA+B,CAArD,CAAyD,CAHpD,EANb,EAWGE,IAXH,CAWQ,SAACvB,CAAD,CAAO,CACX,GAAIA,CAAC,CAACI,SAAF,GAAgB,CAApB,CAAuB,CACrB,MAAO,EAAP,CACD,CAFD,IAEO,CACL,MAAOJ,CAAAA,CAAC,CAACI,SAAT,CACD,CACF,CAjBH,CADI,EAHR,EAuBD,CA1KkB,CAEjB,MAAK9B,KAAL,CAAa,CACXkD,WAAW,CAAE,KADF,CAEXjD,GAAG,CAAE,IAFM,CAGXY,UAAU,CAAE,IAHD,CAIXC,WAAW,CAAE,IAJF,CAKXE,SAAS,CAAE,IALA,CAMXC,UAAU,CAAE,IAND,CAOXE,WAAW,CAAE,IAPF,CAQXC,QAAQ,CAAE,IARC,CASXE,SAAS,CAAE,IATA,CAWX5B,WAAW,CAAE,MAAKX,iBAAL,CAAuB,MAAKD,KAAL,CAAWqE,KAAlC,CAXF,CAYXC,QAAQ,CAAE,IAZC,CAcX3D,aAAa,CAAE,IAdJ,CAAb,CAiBA,MAAKS,GAAL,CAAW1B,KAAK,CAAC6E,SAAN,EAAX,CAEA,MAAK9D,OAAL,CAAe,MAAKA,OAAL,CAAa+D,IAAb,+BAAf,CACA,MAAKvE,iBAAL,CAAyB,MAAKA,iBAAL,CAAuBuE,IAAvB,+BAAzB,CAtBiB,aAuBlB,C,4CAqJD,iBAAS,CACP,mBACE,2BAAK,SAAS,CAAC,gBAAf,eACE,oBAAC,cAAD,EACE,UAAU,CAAE,KAAKxE,KAAL,CAAWyE,UADzB,CAEE,KAAK,CAAE,KAAKzE,KAAL,CAAWqE,KAFpB,CAGE,SAAS,CAAC,2BAHZ,EADF,CAOG,KAAKnD,KAAL,CAAWN,WAAX,eACC,oBAAC,iBAAD,EACE,KAAK,CAAE,CACL8D,KAAK,CAAE,KADF,CAELC,QAAQ,CAAE,MAFL,CAGLC,aAAa,CAAE,KAHV,CADT,EARJ,cAgBE,2BAAK,SAAS,CAAC,sCAAf,eACE,0BAAI,SAAS,CAAC,+BAAd,yCACuC,GADvC,CADF,CAIG,KAAK1D,KAAL,CAAWP,aAAX,eACC,8BAAQ,OAAO,CAAE,KAAKF,OAAtB,CAA+B,SAAS,CAAC,cAAzC,EACG,GADH,oBAEmB,GAFnB,CALJ,cAUE,2BAAK,KAAK,CAAE,CAAEoE,UAAU,CAAE,MAAd,CAAZ,eACE,2BAAK,SAAS,CAAC,OAAf,CAAuB,GAAG,CAAE,KAAKzD,GAAjC,EADF,CAVF,CAhBF,cA8BE,2BAAK,SAAS,CAAC,aAAf,eACE,2CADF,cAEE,8bAFF,CA9BF,CADF,CAqCD,C,uBAnNoCzB,S,SAAlBI,S","sourcesContent":["import React, { Component } from \"react\";\nimport ReadinessScore from \"./ReadinessScore\";\nimport * as d3 from \"d3\";\nimport ConfettiExplosion from \"@reonomy/react-confetti-explosion\";\n\nexport default class Analytics extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      chartExists: false,\n      svg: null,\n      chartWidth: null,\n      chartHeight: null,\n      chartArea: null,\n      bottomAxis: null,\n      bottomAxisG: null,\n      leftAxis: null,\n      leftAxisG: null,\n\n      isExploding: this.greaterThanEighty(this.props.score),\n      getColor: true,\n\n      buttonDisplay: true,\n    };\n\n    this.ref = React.createRef();\n\n    this.onClick = this.onClick.bind(this);\n    this.greaterThanEighty = this.greaterThanEighty.bind(this);\n  }\n\n  greaterThanEighty = (num) => {\n    console.log(typeof num);\n    return num >= 80;\n  };\n\n  getRandomInt = () => {\n    return Math.floor(Math.random() * 100);\n  };\n\n  onClick = () => {\n    this.setState({ buttonDisplay: false }, () => {\n      this.setState({ isExploding: false }, () => {\n        console.log(this.props.data);\n        d3.select(\".graph\").style(\"display\", \"inline\");\n        this.drawChart();\n      });\n    });\n  };\n\n  componentDidMount = () => {\n    this.state.svg = d3\n      .select(this.ref.current)\n      .append(\"svg\")\n      .attr(\"class\", \"graph\")\n      .attr(\"width\", 800)\n      .attr(\"height\", 500)\n      .style(\"display\", \"none\");\n\n    const width = this.state.svg.attr(\"width\");\n    const height = this.state.svg.attr(\"height\");\n\n    const margin = { top: 20, right: 70, bottom: 40, left: 100 };\n    this.setState({ chartWidth: width - margin.left - margin.right });\n    this.setState({ chartHeight: height - margin.top - margin.bottom });\n\n    const annotations = this.state.svg.append(\"g\").attr(\"id\", \"annotations\");\n    this.setState({\n      chartArea: this.state.svg\n        .append(\"g\")\n        .attr(\"id\", \"chart\")\n        .attr(\"transform\", `translate(${margin.left},${margin.top})`),\n    });\n\n    this.setState({ bottomAxis: d3.axisBottom() });\n    this.setState({\n      bottomAxisG: annotations\n        .append(\"g\")\n        .attr(\"class\", \"x axis\")\n        .attr(\"transform\", `translate(${margin.left},${300 + margin.top})`),\n    });\n\n    this.setState({ leftAxis: d3.axisLeft() });\n    this.setState({\n      leftAxisG: annotations\n        .append(\"g\")\n        .attr(\"class\", \"y axis\")\n        .attr(\"transform\", `translate(${margin.left - 10},${margin.top})`),\n    });\n  };\n\n  drawChart = () => {\n    // var res = [];\n    // var i = 1.0;\n    // const col = [\"#018588\", \"#FFC85C\"];\n    // for (const [key, v] of Object.entries(this.props.data)) {\n    //   i = i - 0.1;\n    //   for (var j = 0; j < v.length; j++) {\n    //     res.push({\n    //       skill: key,\n    //       frequency: v[j],\n    //       opacity: i,\n    //       color: col[j],\n    //     });\n    //   }\n    // }\n\n    var res = this.props.data;\n\n    const skillExtent = d3.map(res, (d) => d.skill);\n    // console.log(skillExtent);\n\n    const frequencyExtent = [0, d3.max(res, (d) => d.frequency)];\n\n    const skillScale = d3\n      .scaleBand()\n      .domain(skillExtent)\n      .range([0, this.state.chartHeight]);\n\n    for (const d of Object.entries(res)) {\n      console.log(d.skill);\n      console.log(skillScale(d.skill));\n    }\n\n    console.log(skillScale);\n\n    this.state.leftAxis.scale(skillScale).tickSize(0);\n    this.state.leftAxisG.transition().call(this.state.leftAxis);\n\n    const frequencyScale = d3\n      .scaleLinear()\n      .domain(frequencyExtent)\n      .range([0, this.state.chartWidth]);\n\n    this.state.chartArea\n      .selectAll(\"rect.bar\")\n      .data(res)\n      .join((enter) =>\n        enter\n          .append(\"rect\")\n          .attr(\"class\", \"bar\")\n          .attr(\"fill\", (d) => d.color)\n          .attr(\"x\", (d) => 0)\n          .attr(\"y\", (d) =>\n            d.color === \"#018588\"\n              ? skillScale(d.skill)\n              : skillScale(d.skill) + 0.5 * skillScale.bandwidth()\n          )\n          .attr(\"width\", (d) => frequencyScale(d.frequency))\n          .attr(\"height\", 0.5 * skillScale.bandwidth())\n          .attr(\"opacity\", (d) => d.opacity)\n      );\n\n    this.state.chartArea\n      .selectAll(\"text.label\")\n      .data(res)\n      .join((enter) =>\n        enter\n          .append(\"text\")\n          .attr(\"class\", \"label\")\n          .attr(\"text-anchor\", \"end\")\n          .attr(\"font-size\", \"15px\")\n          .attr(\"x\", (d) => frequencyScale(d.frequency) + 15)\n          .attr(\"y\", (d) =>\n            d.color === \"#018588\"\n              ? skillScale(d.skill) + skillScale.bandwidth() / 4 + 5\n              : skillScale(d.skill) + (3 * skillScale.bandwidth()) / 4 + 5\n          )\n          .text((d) => {\n            if (d.frequency === 0) {\n              return \"\";\n            } else {\n              return d.frequency;\n            }\n          })\n      );\n  };\n\n  render() {\n    return (\n      <div className=\"analytics-page\">\n        <ReadinessScore\n          handleBack={this.props.handleBack}\n          score={this.props.score}\n          className=\"readiness-score-analytics\"\n        />\n\n        {this.state.isExploding && (\n          <ConfettiExplosion\n            style={{\n              force: \"0.6\",\n              duration: \"5000\",\n              particleCount: \"200\",\n            }}\n          />\n        )}\n        <div className=\"communication-skills-chart-container\">\n          <h4 className=\"important-communication-title\">\n            Most Important Communication Skills:{\" \"}\n          </h4>\n          {this.state.buttonDisplay && (\n            <button onClick={this.onClick} className=\"start-button\">\n              {\" \"}\n              Display Analysis{\" \"}\n            </button>\n          )}\n          <div style={{ alignItems: \"left\" }}>\n            <div className=\"chart\" ref={this.ref} />\n          </div>\n        </div>\n        <div className=\"resume_next\">\n          <h3>Next Steps</h3>\n          <p>Compare and contrast the communication skills of your resume (in yellow) and the job you entered (in green). Make some changes, try putting in your new resume, and see if your Readiness Score rises! Based on these results, you can revise your resume to better demonstrate the preferred communication skills for this job! Head over to our ‘About Us’ page to wrap up your skills analysis and meet our team.</p>\n        </div>\n      </div>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}