{"ast":null,"code":"import _classCallCheck from\"/Users/roninsharma/Desktop/Cornell/FALL 2021/ENGRC 3350/Communication-User-Tool/front-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/roninsharma/Desktop/Cornell/FALL 2021/ENGRC 3350/Communication-User-Tool/front-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/Users/roninsharma/Desktop/Cornell/FALL 2021/ENGRC 3350/Communication-User-Tool/front-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/roninsharma/Desktop/Cornell/FALL 2021/ENGRC 3350/Communication-User-Tool/front-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/roninsharma/Desktop/Cornell/FALL 2021/ENGRC 3350/Communication-User-Tool/front-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import Select from\"react-select\";import ResumeUpload from\"./ResumeUpload\";import Analytics from\"./Analytics\";import{Link}from\"react-router-dom\";var jobInfoOptions=[{value:\"job_title\",label:\"Job Title\"},{value:\"job_description\",label:\"Job Description\"}];var jobTitleOptions=[{value:\"automation_engineer\",label:\"Automation Engineer\"},{value:\"computer_hardware_engineer\",label:\"Computer Hardware Engineer\"},{value:\"data_analyst\",label:\"Data Analyst\"},{value:\"data_engineer\",label:\"Data Engineer\"},{value:\"data_scientist\",label:\"Data Scientist\"},{value:\"electrical_engineer\",label:\"Electrical Engineer\"},{value:\"financial_engineer\",label:\"Financial Engineer\"},{value:\"machine_learning_engineer\",label:\"Machine Learning Engineer\"},{value:\"mechanical_engineer\",label:\"Mechanical Engineer\"},{value:\"network_engineer\",label:\"Network Engineer\"},{value:\"qa_engineer\",label:\"QA Engineer\"},{value:\"quantitative_analyst\",label:\"Quantitative Analyst\"},{value:\"quantitative_finance\",label:\"Quantitative Finance\"},{value:\"quantitative_research\",label:\"Quantitative Research\"},{value:\"quantitative_trading\",label:\"Quantitative Trading\"},{value:\"software_engineer\",label:\"Software Engineer\"},{value:\"systems_engineer\",label:\"Systems Engineer\"},{value:\"technology_analyst\",label:\"Technology Analyst\"}];var ResumeAnalysis=/*#__PURE__*/function(_Component){_inherits(ResumeAnalysis,_Component);var _super=_createSuper(ResumeAnalysis);function ResumeAnalysis(props){var _this;_classCallCheck(this,ResumeAnalysis);_this=_super.call(this,props);_this.handleSubmission=function(e){console.log(\"HANDLING SUBMISSION\");e.preventDefault();if(!_this.state.titleChosen&&!_this.state.descChosen){alert(\"Please choose whether you would like to compare a Job Title or Job Description\");return;}else if(_this.state.titleChosen){if(_this.state.selectedTitle!==null){if(_this.state.fileChosen){console.log(\"Title: \"+_this.state.selectedTitle.label);// Get file object working\nconsole.log(typeof _this.state.selectedFile);console.log(_this.state.selectedFile);var selectedJobTitle=\"\";var label=_this.state.selectedTitle.label;jobTitleOptions.forEach(function(jobTitle){if(jobTitle.label==label)selectedJobTitle=jobTitle.value;});var resumeStem=_this.state.selectedFile.name.split(\".\")[0];console.log(resumeStem);console.log(typeof resumeStem);var str=\"/resume_analysis?keyword=\".concat(_this.state.selectedTitle.value,\"&resume=\").concat(resumeStem);console.log(\"STR: \",str);fetch(str).then(function(res){return res.json();}).then(function(output){console.log(\"RESUME OUTPUT:\",output);});window.location.href=\"/analytics\";//window.location.href = \"/analytics\";\n}else{alert(\"Please upload a file\");}}else{alert(\"Please select a job title\");}}else if(_this.state.descChosen){if(_this.state.description!==null&&_this.state.description!==\"\"){if(_this.state.fileChosen){console.log(\"Description: \"+_this.state.description);var _str=\"/job_ad?content=\".concat(_this.state.description);console.log(\"STR: \",_str);fetch(_str).then(function(res){return res.json();}).then(function(output){console.log(\"JOB AD OUTPUT:\",output);});//window.location.href = \"/analytics\";\n}else{alert(\"Please upload a file\");}}else{alert(\"Please enter a description\");}}return;};_this.fileHandler=function(){if(_this.state.selectedFile){_this.setState({fileChosen:true},function(){console.log(_this.state.selectedFile);var read=new FileReader();read.readAsText(_this.state.selectedFile);read.onloadend=function(){console.log(read.result);};console.log(\"YES file chosen\");// alert(\"TODO\");\n});}else{_this.setState({fileChosen:false},function(){console.log(\"no file chosen\");});}};_this.setSelectedFile=function(file){_this.setState({selectedFile:file},function(){_this.fileHandler();});};_this.handleSearchChange=function(selectedOption){_this.setState({selectedCompareOption:selectedOption},function(){if(_this.state.selectedCompareOption!==null){if(selectedOption.value===\"job_title\"){_this.setState({titleChosen:true,descChosen:false});}else if(selectedOption.value===\"job_description\"){_this.setState({titleChosen:false,descChosen:true});}console.log(_this.state.selectedCompareOption);}else{_this.setState({titleChosen:false,descChosen:false},function(){console.log(_this.state.selectedCompareOption);});}});};_this.handleTitleChosen=function(selectedOption){_this.setState({selectedTitle:selectedOption},function(){if(_this.state.selectedTitle!==null){console.log(_this.state.selectedTitle.label);}});};_this.handleDescInput=function(e){_this.setState({description:e.target.value},function(){if(_this.state.description!==null){console.log(_this.state.description);}});};_this.state={selectedCompareOption:null,fileChosen:false,titleChosen:false,descChosen:false,description:null,selectedTitle:null,selectedFile:null};_this.fileHandler=_this.fileHandler.bind(_assertThisInitialized(_this));_this.handleSearchChange=_this.handleSearchChange.bind(_assertThisInitialized(_this));_this.handleTitleChosen=_this.handleTitleChosen.bind(_assertThisInitialized(_this));_this.handleDescInput=_this.handleDescInput.bind(_assertThisInitialized(_this));_this.handleSubmission=_this.handleSubmission.bind(_assertThisInitialized(_this));return _this;}_createClass(ResumeAnalysis,[{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"h1\",{className:\"title\"},\"Evaluate and Improve Your Resume\"),/*#__PURE__*/React.createElement(\"div\",{className:\"resume-upload\"},/*#__PURE__*/React.createElement(ResumeUpload,{setFile:this.setSelectedFile}),this.state.fileChosen&&/*#__PURE__*/React.createElement(\"label\",{className:\"file-uploaded-text\"},\"File Successfully Uploaded\")),/*#__PURE__*/React.createElement(\"div\",{className:\"job-info\"},/*#__PURE__*/React.createElement(\"h4\",{className:\"job-info-text\"},/*#__PURE__*/React.createElement(\"b\",null,\"Step 2: \"),\"Compare with\",\" \"),/*#__PURE__*/React.createElement(Select,{className:\"job-info-searchbar\",options:jobInfoOptions,isClearable:true,onChange:this.handleSearchChange,placeholder:\"Select job information\"}),/*#__PURE__*/React.createElement(\"div\",null,this.state.titleChosen&&/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(Select,{className:\"searchbar\",options:jobTitleOptions,isClearable:true,onChange:this.handleTitleChosen,placeholder:\"Select a job title\"})),this.state.descChosen&&/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"textarea\",{placeHolder:\"Please enter job description here...\",onChange:this.handleDescInput,cols:\"60\",rows:\"7\"})))),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(Link,{to:\"/analytics\",onClick:this.handleSubmission,className:\"start-button\"},\"Start\")));}}]);return ResumeAnalysis;}(Component);export{ResumeAnalysis as default};","map":{"version":3,"sources":["/Users/roninsharma/Desktop/Cornell/FALL 2021/ENGRC 3350/Communication-User-Tool/front-end/src/components/ResumeAnalysis.js"],"names":["React","Component","Select","ResumeUpload","Analytics","Link","jobInfoOptions","value","label","jobTitleOptions","ResumeAnalysis","props","handleSubmission","e","console","log","preventDefault","state","titleChosen","descChosen","alert","selectedTitle","fileChosen","selectedFile","selectedJobTitle","forEach","jobTitle","resumeStem","name","split","str","fetch","then","res","json","output","window","location","href","description","fileHandler","setState","read","FileReader","readAsText","onloadend","result","setSelectedFile","file","handleSearchChange","selectedOption","selectedCompareOption","handleTitleChosen","handleDescInput","target","bind"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport Select from \"react-select\";\nimport ResumeUpload from \"./ResumeUpload\";\nimport Analytics from \"./Analytics\";\nimport { Link } from \"react-router-dom\";\n\nconst jobInfoOptions = [\n  { value: \"job_title\", label: \"Job Title\" },\n  { value: \"job_description\", label: \"Job Description\" },\n];\n\nconst jobTitleOptions = [\n  { value: \"automation_engineer\", label: \"Automation Engineer\" },\n  { value: \"computer_hardware_engineer\", label: \"Computer Hardware Engineer\" },\n  { value: \"data_analyst\", label: \"Data Analyst\" },\n  { value: \"data_engineer\", label: \"Data Engineer\" },\n  { value: \"data_scientist\", label: \"Data Scientist\" },\n  { value: \"electrical_engineer\", label: \"Electrical Engineer\" },\n  { value: \"financial_engineer\", label: \"Financial Engineer\" },\n  { value: \"machine_learning_engineer\", label: \"Machine Learning Engineer\" },\n  { value: \"mechanical_engineer\", label: \"Mechanical Engineer\" },\n  { value: \"network_engineer\", label: \"Network Engineer\" },\n  { value: \"qa_engineer\", label: \"QA Engineer\" },\n  { value: \"quantitative_analyst\", label: \"Quantitative Analyst\" },\n  { value: \"quantitative_finance\", label: \"Quantitative Finance\" },\n  { value: \"quantitative_research\", label: \"Quantitative Research\" },\n  { value: \"quantitative_trading\", label: \"Quantitative Trading\" },\n  { value: \"software_engineer\", label: \"Software Engineer\" },\n  { value: \"systems_engineer\", label: \"Systems Engineer\" },\n  { value: \"technology_analyst\", label: \"Technology Analyst\" },\n];\n\nexport default class ResumeAnalysis extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      selectedCompareOption: null,\n      fileChosen: false,\n      titleChosen: false,\n      descChosen: false,\n      description: null,\n      selectedTitle: null,\n      selectedFile: null,\n    };\n\n    this.fileHandler = this.fileHandler.bind(this);\n    this.handleSearchChange = this.handleSearchChange.bind(this);\n    this.handleTitleChosen = this.handleTitleChosen.bind(this);\n    this.handleDescInput = this.handleDescInput.bind(this);\n    this.handleSubmission = this.handleSubmission.bind(this);\n  }\n\n  handleSubmission = (e) => {\n    console.log(\"HANDLING SUBMISSION\");\n    e.preventDefault();\n    if (!this.state.titleChosen && !this.state.descChosen) {\n      alert(\n        \"Please choose whether you would like to compare a Job Title or Job Description\"\n      );\n      return;\n    } else if (this.state.titleChosen) {\n      if (this.state.selectedTitle !== null) {\n        if (this.state.fileChosen) {\n          console.log(\"Title: \" + this.state.selectedTitle.label);\n\n          // Get file object working\n          console.log(typeof this.state.selectedFile);\n          console.log(this.state.selectedFile);\n\n          let selectedJobTitle = \"\";\n          let label = this.state.selectedTitle.label;\n          jobTitleOptions.forEach((jobTitle) => {\n            if (jobTitle.label == label) selectedJobTitle = jobTitle.value;\n          });\n          let resumeStem = this.state.selectedFile.name.split(\".\")[0];\n          console.log(resumeStem);\n          console.log(typeof resumeStem);\n          let str = `/resume_analysis?keyword=${this.state.selectedTitle.value}&resume=${resumeStem}`;\n          console.log(\"STR: \", str);\n\n          fetch(str)\n            .then((res) => res.json())\n            .then((output) => {\n              console.log(\"RESUME OUTPUT:\", output);\n            });\n\n          window.location.href = \"/analytics\";\n\n          //window.location.href = \"/analytics\";\n        } else {\n          alert(\"Please upload a file\");\n        }\n      } else {\n        alert(\"Please select a job title\");\n      }\n    } else if (this.state.descChosen) {\n      if (this.state.description !== null && this.state.description !== \"\") {\n        if (this.state.fileChosen) {\n          console.log(\"Description: \" + this.state.description);\n          let str = `/job_ad?content=${this.state.description}`;\n          console.log(\"STR: \", str);\n          \n          fetch(str)\n            .then((res) => res.json())\n            .then((output) => {\n              console.log(\"JOB AD OUTPUT:\", output);\n            });\n          //window.location.href = \"/analytics\";\n        } else {\n          alert(\"Please upload a file\");\n        }\n      } else {\n        alert(\"Please enter a description\");\n      }\n    }\n    return;\n  };\n\n  fileHandler = () => {\n    if (this.state.selectedFile) {\n      this.setState({ fileChosen: true }, () => {\n        console.log(this.state.selectedFile);\n        var read = new FileReader();\n        read.readAsText(this.state.selectedFile);\n        read.onloadend = () => {\n          console.log(read.result);\n        };\n\n        console.log(\"YES file chosen\");\n        // alert(\"TODO\");\n      });\n    } else {\n      this.setState({ fileChosen: false }, () => {\n        console.log(\"no file chosen\");\n      });\n    }\n  };\n\n  setSelectedFile = (file) => {\n    this.setState({ selectedFile: file }, () => {\n      this.fileHandler();\n    });\n  };\n\n  handleSearchChange = (selectedOption) => {\n    this.setState({ selectedCompareOption: selectedOption }, () => {\n      if (this.state.selectedCompareOption !== null) {\n        if (selectedOption.value === \"job_title\") {\n          this.setState({ titleChosen: true, descChosen: false });\n        } else if (selectedOption.value === \"job_description\") {\n          this.setState({ titleChosen: false, descChosen: true });\n        }\n        console.log(this.state.selectedCompareOption);\n      } else {\n        this.setState({ titleChosen: false, descChosen: false }, () => {\n          console.log(this.state.selectedCompareOption);\n        });\n      }\n    });\n  };\n\n  handleTitleChosen = (selectedOption) => {\n    this.setState({ selectedTitle: selectedOption }, () => {\n      if (this.state.selectedTitle !== null) {\n        console.log(this.state.selectedTitle.label);\n      }\n    });\n  };\n\n  handleDescInput = (e) => {\n    this.setState({ description: e.target.value }, () => {\n      if (this.state.description !== null) {\n        console.log(this.state.description);\n      }\n    });\n  };\n\n  render() {\n    return (\n      <div>\n        <h1 className=\"title\">Evaluate and Improve Your Resume</h1>\n        <div className=\"resume-upload\">\n          <ResumeUpload setFile={this.setSelectedFile} />\n          {this.state.fileChosen && (\n            <label className=\"file-uploaded-text\">\n              File Successfully Uploaded\n            </label>\n          )}\n        </div>\n\n        <div className=\"job-info\">\n          <h4 className=\"job-info-text\">\n            <b>Step 2: </b>Compare with{\" \"}\n          </h4>\n          <Select\n            className=\"job-info-searchbar\"\n            options={jobInfoOptions}\n            isClearable={true}\n            onChange={this.handleSearchChange}\n            placeholder=\"Select job information\"\n          />\n          <div>\n            {this.state.titleChosen && (\n              <div>\n                <br></br>\n                <Select\n                  className=\"searchbar\"\n                  options={jobTitleOptions}\n                  isClearable={true}\n                  onChange={this.handleTitleChosen}\n                  placeholder=\"Select a job title\"\n                />\n              </div>\n            )}\n            {this.state.descChosen && (\n              <div>\n                <br></br>\n                <textarea\n                  placeHolder=\"Please enter job description here...\"\n                  onChange={this.handleDescInput}\n                  cols=\"60\"\n                  rows=\"7\"\n                />\n              </div>\n            )}\n          </div>\n        </div>\n        <div>\n          <br></br>\n          <Link\n            to=\"/analytics\"\n            onClick={this.handleSubmission}\n            className=\"start-button\"\n          >\n            Start\n          </Link>\n        </div>\n      </div>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}