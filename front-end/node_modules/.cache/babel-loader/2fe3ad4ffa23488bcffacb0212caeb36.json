{"ast":null,"code":"var _jsxFileName = \"/Users/roninsharma/Desktop/Cornell/FALL 2021/ENGRC 3350/Communication-User-Tool/front-end/src/components/ResumeAnalysis.js\";\nimport React, { Component } from \"react\";\nimport Select from \"react-select\";\nimport ResumeUpload from \"./ResumeUpload\";\nimport Analytics from \"./Analytics\";\nimport { Link } from \"react-router-dom\";\nconst jobInfoOptions = [{\n  value: \"job_title\",\n  label: \"Job Title\"\n}, {\n  value: \"job_description\",\n  label: \"Job Description\"\n}];\nconst jobTitleOptions = [{\n  value: \"automation_engineer\",\n  label: \"Automation Engineer\"\n}, {\n  value: \"computer_hardware_engineer\",\n  label: \"Computer Hardware Engineer\"\n}, {\n  value: \"data_analyst\",\n  label: \"Data Analyst\"\n}, {\n  value: \"data_engineer\",\n  label: \"Data Engineer\"\n}, {\n  value: \"data_scientist\",\n  label: \"Data Scientist\"\n}, {\n  value: \"electrical_engineer\",\n  label: \"Electrical Engineer\"\n}, {\n  value: \"financial_engineer\",\n  label: \"Financial Engineer\"\n}, {\n  value: \"machine_learning_engineer\",\n  label: \"Machine Learning Engineer\"\n}, {\n  value: \"mechanical_engineer\",\n  label: \"Mechanical Engineer\"\n}, {\n  value: \"network_engineer\",\n  label: \"Network Engineer\"\n}, {\n  value: \"qa_engineer\",\n  label: \"QA Engineer\"\n}, {\n  value: \"quantitative_analyst\",\n  label: \"Quantitative Analyst\"\n}, {\n  value: \"quantitative_finance\",\n  label: \"Quantitative Finance\"\n}, {\n  value: \"quantitative_research\",\n  label: \"Quantitative Research\"\n}, {\n  value: \"quantitative_trading\",\n  label: \"Quantitative Trading\"\n}, {\n  value: \"software_engineer\",\n  label: \"Software Engineer\"\n}, {\n  value: \"systems_engineer\",\n  label: \"Systems Engineer\"\n}, {\n  value: \"technology_analyst\",\n  label: \"Technology Analyst\"\n}];\nexport default class ResumeAnalysis extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleSubmission = e => {\n      console.log(\"HANDLING SUBMISSION\");\n      e.preventDefault();\n\n      if (!this.state.titleChosen && !this.state.descChosen) {\n        alert(\"Please choose whether you would like to compare a Job Title or Job Description\");\n        return;\n      } else if (this.state.titleChosen) {\n        if (this.state.selectedTitle !== null) {\n          if (this.state.fileChosen) {\n            console.log(\"Title: \" + this.state.selectedTitle.label); // Get file object working\n\n            console.log(typeof this.state.selectedFile);\n            console.log(this.state.selectedFile);\n            let selectedJobTitle = \"\";\n            let label = this.state.selectedTitle.label;\n            jobTitleOptions.forEach(jobTitle => {\n              if (jobTitle.label == label) selectedJobTitle = jobTitle.value;\n            });\n            let resumeStem = this.state.selectedFile.name.split(\".\")[0];\n            console.log(resumeStem);\n            console.log(typeof resumeStem);\n            let str = `/resume_analysis?keyword=${this.state.selectedTitle.value}&resume=${resumeStem}`;\n            console.log(\"STR: \", str);\n            fetch(str).then(res => res.json()).then(output => {\n              console.log(\"RESUME OUTPUT:\", output);\n            });\n            window.location.href = \"/analytics\"; //window.location.href = \"/analytics\";\n          } else {\n            alert(\"Please upload a file\");\n          }\n        } else {\n          alert(\"Please select a job title\");\n        }\n      } else if (this.state.descChosen) {\n        if (this.state.description !== null && this.state.description !== \"\") {\n          if (this.state.fileChosen) {\n            console.log(\"Description: \" + this.state.description);\n            let str = `/job_ad?content=${this.state.description}`;\n            console.log(\"STR: \", str);\n            fetch(str).then(res => res.json()).then(output => {\n              console.log(\"JOB AD OUTPUT:\", output);\n            }); //window.location.href = \"/analytics\";\n          } else {\n            alert(\"Please upload a file\");\n          }\n        } else {\n          alert(\"Please enter a description\");\n        }\n      }\n\n      return;\n    };\n\n    this.fileHandler = () => {\n      if (this.state.selectedFile) {\n        this.setState({\n          fileChosen: true\n        }, () => {\n          console.log(this.state.selectedFile);\n          var read = new FileReader();\n          read.readAsText(this.state.selectedFile);\n\n          read.onloadend = () => {\n            console.log(read.result);\n          };\n\n          console.log(\"YES file chosen\"); // alert(\"TODO\");\n        });\n      } else {\n        this.setState({\n          fileChosen: false\n        }, () => {\n          console.log(\"no file chosen\");\n        });\n      }\n    };\n\n    this.setSelectedFile = file => {\n      this.setState({\n        selectedFile: file\n      }, () => {\n        this.fileHandler();\n      });\n    };\n\n    this.handleSearchChange = selectedOption => {\n      this.setState({\n        selectedCompareOption: selectedOption\n      }, () => {\n        if (this.state.selectedCompareOption !== null) {\n          if (selectedOption.value === \"job_title\") {\n            this.setState({\n              titleChosen: true,\n              descChosen: false\n            });\n          } else if (selectedOption.value === \"job_description\") {\n            this.setState({\n              titleChosen: false,\n              descChosen: true\n            });\n          }\n\n          console.log(this.state.selectedCompareOption);\n        } else {\n          this.setState({\n            titleChosen: false,\n            descChosen: false\n          }, () => {\n            console.log(this.state.selectedCompareOption);\n          });\n        }\n      });\n    };\n\n    this.handleTitleChosen = selectedOption => {\n      this.setState({\n        selectedTitle: selectedOption\n      }, () => {\n        if (this.state.selectedTitle !== null) {\n          console.log(this.state.selectedTitle.label);\n        }\n      });\n    };\n\n    this.handleDescInput = e => {\n      this.setState({\n        description: e.target.value\n      }, () => {\n        if (this.state.description !== null) {\n          console.log(this.state.description);\n        }\n      });\n    };\n\n    this.state = {\n      selectedCompareOption: null,\n      fileChosen: false,\n      titleChosen: false,\n      descChosen: false,\n      description: null,\n      selectedTitle: null,\n      selectedFile: null\n    };\n    this.fileHandler = this.fileHandler.bind(this);\n    this.handleSearchChange = this.handleSearchChange.bind(this);\n    this.handleTitleChosen = this.handleTitleChosen.bind(this);\n    this.handleDescInput = this.handleDescInput.bind(this);\n    this.handleSubmission = this.handleSubmission.bind(this);\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      className: \"title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 9\n      }\n    }, \"Evaluate and Improve Your Resume\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"resume-upload\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(ResumeUpload, {\n      setFile: this.setSelectedFile,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 11\n      }\n    }), this.state.fileChosen && /*#__PURE__*/React.createElement(\"label\", {\n      className: \"file-uploaded-text\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 13\n      }\n    }, \"File Successfully Uploaded\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"job-info\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      className: \"job-info-text\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"b\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 13\n      }\n    }, \"Step 2: \"), \"Compare with\", \" \"), /*#__PURE__*/React.createElement(Select, {\n      className: \"job-info-searchbar\",\n      options: jobInfoOptions,\n      isClearable: true,\n      onChange: this.handleSearchChange,\n      placeholder: \"Select job information\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 11\n      }\n    }, this.state.titleChosen && /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(Select, {\n      className: \"searchbar\",\n      options: jobTitleOptions,\n      isClearable: true,\n      onChange: this.handleTitleChosen,\n      placeholder: \"Select a job title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 17\n      }\n    })), this.state.descChosen && /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 217,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"textarea\", {\n      placeHolder: \"Please enter job description here...\",\n      onChange: this.handleDescInput,\n      cols: \"60\",\n      rows: \"7\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 218,\n        columnNumber: 17\n      }\n    })))), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(Link, {\n      to: \"/analytics\",\n      onClick: this.handleSubmission,\n      className: \"start-button\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 11\n      }\n    }, \"Start\")));\n  }\n\n}","map":{"version":3,"sources":["/Users/roninsharma/Desktop/Cornell/FALL 2021/ENGRC 3350/Communication-User-Tool/front-end/src/components/ResumeAnalysis.js"],"names":["React","Component","Select","ResumeUpload","Analytics","Link","jobInfoOptions","value","label","jobTitleOptions","ResumeAnalysis","constructor","props","handleSubmission","e","console","log","preventDefault","state","titleChosen","descChosen","alert","selectedTitle","fileChosen","selectedFile","selectedJobTitle","forEach","jobTitle","resumeStem","name","split","str","fetch","then","res","json","output","window","location","href","description","fileHandler","setState","read","FileReader","readAsText","onloadend","result","setSelectedFile","file","handleSearchChange","selectedOption","selectedCompareOption","handleTitleChosen","handleDescInput","target","bind","render"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,MAAP,MAAmB,cAAnB;AACA,OAAOC,YAAP,MAAyB,gBAAzB;AACA,OAAOC,SAAP,MAAsB,aAAtB;AACA,SAASC,IAAT,QAAqB,kBAArB;AAEA,MAAMC,cAAc,GAAG,CACrB;AAAEC,EAAAA,KAAK,EAAE,WAAT;AAAsBC,EAAAA,KAAK,EAAE;AAA7B,CADqB,EAErB;AAAED,EAAAA,KAAK,EAAE,iBAAT;AAA4BC,EAAAA,KAAK,EAAE;AAAnC,CAFqB,CAAvB;AAKA,MAAMC,eAAe,GAAG,CACtB;AAAEF,EAAAA,KAAK,EAAE,qBAAT;AAAgCC,EAAAA,KAAK,EAAE;AAAvC,CADsB,EAEtB;AAAED,EAAAA,KAAK,EAAE,4BAAT;AAAuCC,EAAAA,KAAK,EAAE;AAA9C,CAFsB,EAGtB;AAAED,EAAAA,KAAK,EAAE,cAAT;AAAyBC,EAAAA,KAAK,EAAE;AAAhC,CAHsB,EAItB;AAAED,EAAAA,KAAK,EAAE,eAAT;AAA0BC,EAAAA,KAAK,EAAE;AAAjC,CAJsB,EAKtB;AAAED,EAAAA,KAAK,EAAE,gBAAT;AAA2BC,EAAAA,KAAK,EAAE;AAAlC,CALsB,EAMtB;AAAED,EAAAA,KAAK,EAAE,qBAAT;AAAgCC,EAAAA,KAAK,EAAE;AAAvC,CANsB,EAOtB;AAAED,EAAAA,KAAK,EAAE,oBAAT;AAA+BC,EAAAA,KAAK,EAAE;AAAtC,CAPsB,EAQtB;AAAED,EAAAA,KAAK,EAAE,2BAAT;AAAsCC,EAAAA,KAAK,EAAE;AAA7C,CARsB,EAStB;AAAED,EAAAA,KAAK,EAAE,qBAAT;AAAgCC,EAAAA,KAAK,EAAE;AAAvC,CATsB,EAUtB;AAAED,EAAAA,KAAK,EAAE,kBAAT;AAA6BC,EAAAA,KAAK,EAAE;AAApC,CAVsB,EAWtB;AAAED,EAAAA,KAAK,EAAE,aAAT;AAAwBC,EAAAA,KAAK,EAAE;AAA/B,CAXsB,EAYtB;AAAED,EAAAA,KAAK,EAAE,sBAAT;AAAiCC,EAAAA,KAAK,EAAE;AAAxC,CAZsB,EAatB;AAAED,EAAAA,KAAK,EAAE,sBAAT;AAAiCC,EAAAA,KAAK,EAAE;AAAxC,CAbsB,EActB;AAAED,EAAAA,KAAK,EAAE,uBAAT;AAAkCC,EAAAA,KAAK,EAAE;AAAzC,CAdsB,EAetB;AAAED,EAAAA,KAAK,EAAE,sBAAT;AAAiCC,EAAAA,KAAK,EAAE;AAAxC,CAfsB,EAgBtB;AAAED,EAAAA,KAAK,EAAE,mBAAT;AAA8BC,EAAAA,KAAK,EAAE;AAArC,CAhBsB,EAiBtB;AAAED,EAAAA,KAAK,EAAE,kBAAT;AAA6BC,EAAAA,KAAK,EAAE;AAApC,CAjBsB,EAkBtB;AAAED,EAAAA,KAAK,EAAE,oBAAT;AAA+BC,EAAAA,KAAK,EAAE;AAAtC,CAlBsB,CAAxB;AAqBA,eAAe,MAAME,cAAN,SAA6BT,SAA7B,CAAuC;AACpDU,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;;AADiB,SAmBnBC,gBAnBmB,GAmBCC,CAAD,IAAO;AACxBC,MAAAA,OAAO,CAACC,GAAR,CAAY,qBAAZ;AACAF,MAAAA,CAAC,CAACG,cAAF;;AACA,UAAI,CAAC,KAAKC,KAAL,CAAWC,WAAZ,IAA2B,CAAC,KAAKD,KAAL,CAAWE,UAA3C,EAAuD;AACrDC,QAAAA,KAAK,CACH,gFADG,CAAL;AAGA;AACD,OALD,MAKO,IAAI,KAAKH,KAAL,CAAWC,WAAf,EAA4B;AACjC,YAAI,KAAKD,KAAL,CAAWI,aAAX,KAA6B,IAAjC,EAAuC;AACrC,cAAI,KAAKJ,KAAL,CAAWK,UAAf,EAA2B;AACzBR,YAAAA,OAAO,CAACC,GAAR,CAAY,YAAY,KAAKE,KAAL,CAAWI,aAAX,CAAyBd,KAAjD,EADyB,CAGzB;;AACAO,YAAAA,OAAO,CAACC,GAAR,CAAY,OAAO,KAAKE,KAAL,CAAWM,YAA9B;AACAT,YAAAA,OAAO,CAACC,GAAR,CAAY,KAAKE,KAAL,CAAWM,YAAvB;AAEA,gBAAIC,gBAAgB,GAAG,EAAvB;AACA,gBAAIjB,KAAK,GAAG,KAAKU,KAAL,CAAWI,aAAX,CAAyBd,KAArC;AACAC,YAAAA,eAAe,CAACiB,OAAhB,CAAyBC,QAAD,IAAc;AACpC,kBAAIA,QAAQ,CAACnB,KAAT,IAAkBA,KAAtB,EAA6BiB,gBAAgB,GAAGE,QAAQ,CAACpB,KAA5B;AAC9B,aAFD;AAGA,gBAAIqB,UAAU,GAAG,KAAKV,KAAL,CAAWM,YAAX,CAAwBK,IAAxB,CAA6BC,KAA7B,CAAmC,GAAnC,EAAwC,CAAxC,CAAjB;AACAf,YAAAA,OAAO,CAACC,GAAR,CAAYY,UAAZ;AACAb,YAAAA,OAAO,CAACC,GAAR,CAAY,OAAOY,UAAnB;AACA,gBAAIG,GAAG,GAAI,4BAA2B,KAAKb,KAAL,CAAWI,aAAX,CAAyBf,KAAM,WAAUqB,UAAW,EAA1F;AACAb,YAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAqBe,GAArB;AAEAC,YAAAA,KAAK,CAACD,GAAD,CAAL,CACGE,IADH,CACSC,GAAD,IAASA,GAAG,CAACC,IAAJ,EADjB,EAEGF,IAFH,CAESG,MAAD,IAAY;AAChBrB,cAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ,EAA8BoB,MAA9B;AACD,aAJH;AAMAC,YAAAA,MAAM,CAACC,QAAP,CAAgBC,IAAhB,GAAuB,YAAvB,CAxByB,CA0BzB;AACD,WA3BD,MA2BO;AACLlB,YAAAA,KAAK,CAAC,sBAAD,CAAL;AACD;AACF,SA/BD,MA+BO;AACLA,UAAAA,KAAK,CAAC,2BAAD,CAAL;AACD;AACF,OAnCM,MAmCA,IAAI,KAAKH,KAAL,CAAWE,UAAf,EAA2B;AAChC,YAAI,KAAKF,KAAL,CAAWsB,WAAX,KAA2B,IAA3B,IAAmC,KAAKtB,KAAL,CAAWsB,WAAX,KAA2B,EAAlE,EAAsE;AACpE,cAAI,KAAKtB,KAAL,CAAWK,UAAf,EAA2B;AACzBR,YAAAA,OAAO,CAACC,GAAR,CAAY,kBAAkB,KAAKE,KAAL,CAAWsB,WAAzC;AACA,gBAAIT,GAAG,GAAI,mBAAkB,KAAKb,KAAL,CAAWsB,WAAY,EAApD;AACAzB,YAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAqBe,GAArB;AAEAC,YAAAA,KAAK,CAACD,GAAD,CAAL,CACGE,IADH,CACSC,GAAD,IAASA,GAAG,CAACC,IAAJ,EADjB,EAEGF,IAFH,CAESG,MAAD,IAAY;AAChBrB,cAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ,EAA8BoB,MAA9B;AACD,aAJH,EALyB,CAUzB;AACD,WAXD,MAWO;AACLf,YAAAA,KAAK,CAAC,sBAAD,CAAL;AACD;AACF,SAfD,MAeO;AACLA,UAAAA,KAAK,CAAC,4BAAD,CAAL;AACD;AACF;;AACD;AACD,KAnFkB;;AAAA,SAqFnBoB,WArFmB,GAqFL,MAAM;AAClB,UAAI,KAAKvB,KAAL,CAAWM,YAAf,EAA6B;AAC3B,aAAKkB,QAAL,CAAc;AAAEnB,UAAAA,UAAU,EAAE;AAAd,SAAd,EAAoC,MAAM;AACxCR,UAAAA,OAAO,CAACC,GAAR,CAAY,KAAKE,KAAL,CAAWM,YAAvB;AACA,cAAImB,IAAI,GAAG,IAAIC,UAAJ,EAAX;AACAD,UAAAA,IAAI,CAACE,UAAL,CAAgB,KAAK3B,KAAL,CAAWM,YAA3B;;AACAmB,UAAAA,IAAI,CAACG,SAAL,GAAiB,MAAM;AACrB/B,YAAAA,OAAO,CAACC,GAAR,CAAY2B,IAAI,CAACI,MAAjB;AACD,WAFD;;AAIAhC,UAAAA,OAAO,CAACC,GAAR,CAAY,iBAAZ,EARwC,CASxC;AACD,SAVD;AAWD,OAZD,MAYO;AACL,aAAK0B,QAAL,CAAc;AAAEnB,UAAAA,UAAU,EAAE;AAAd,SAAd,EAAqC,MAAM;AACzCR,UAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ;AACD,SAFD;AAGD;AACF,KAvGkB;;AAAA,SAyGnBgC,eAzGmB,GAyGAC,IAAD,IAAU;AAC1B,WAAKP,QAAL,CAAc;AAAElB,QAAAA,YAAY,EAAEyB;AAAhB,OAAd,EAAsC,MAAM;AAC1C,aAAKR,WAAL;AACD,OAFD;AAGD,KA7GkB;;AAAA,SA+GnBS,kBA/GmB,GA+GGC,cAAD,IAAoB;AACvC,WAAKT,QAAL,CAAc;AAAEU,QAAAA,qBAAqB,EAAED;AAAzB,OAAd,EAAyD,MAAM;AAC7D,YAAI,KAAKjC,KAAL,CAAWkC,qBAAX,KAAqC,IAAzC,EAA+C;AAC7C,cAAID,cAAc,CAAC5C,KAAf,KAAyB,WAA7B,EAA0C;AACxC,iBAAKmC,QAAL,CAAc;AAAEvB,cAAAA,WAAW,EAAE,IAAf;AAAqBC,cAAAA,UAAU,EAAE;AAAjC,aAAd;AACD,WAFD,MAEO,IAAI+B,cAAc,CAAC5C,KAAf,KAAyB,iBAA7B,EAAgD;AACrD,iBAAKmC,QAAL,CAAc;AAAEvB,cAAAA,WAAW,EAAE,KAAf;AAAsBC,cAAAA,UAAU,EAAE;AAAlC,aAAd;AACD;;AACDL,UAAAA,OAAO,CAACC,GAAR,CAAY,KAAKE,KAAL,CAAWkC,qBAAvB;AACD,SAPD,MAOO;AACL,eAAKV,QAAL,CAAc;AAAEvB,YAAAA,WAAW,EAAE,KAAf;AAAsBC,YAAAA,UAAU,EAAE;AAAlC,WAAd,EAAyD,MAAM;AAC7DL,YAAAA,OAAO,CAACC,GAAR,CAAY,KAAKE,KAAL,CAAWkC,qBAAvB;AACD,WAFD;AAGD;AACF,OAbD;AAcD,KA9HkB;;AAAA,SAgInBC,iBAhImB,GAgIEF,cAAD,IAAoB;AACtC,WAAKT,QAAL,CAAc;AAAEpB,QAAAA,aAAa,EAAE6B;AAAjB,OAAd,EAAiD,MAAM;AACrD,YAAI,KAAKjC,KAAL,CAAWI,aAAX,KAA6B,IAAjC,EAAuC;AACrCP,UAAAA,OAAO,CAACC,GAAR,CAAY,KAAKE,KAAL,CAAWI,aAAX,CAAyBd,KAArC;AACD;AACF,OAJD;AAKD,KAtIkB;;AAAA,SAwInB8C,eAxImB,GAwIAxC,CAAD,IAAO;AACvB,WAAK4B,QAAL,CAAc;AAAEF,QAAAA,WAAW,EAAE1B,CAAC,CAACyC,MAAF,CAAShD;AAAxB,OAAd,EAA+C,MAAM;AACnD,YAAI,KAAKW,KAAL,CAAWsB,WAAX,KAA2B,IAA/B,EAAqC;AACnCzB,UAAAA,OAAO,CAACC,GAAR,CAAY,KAAKE,KAAL,CAAWsB,WAAvB;AACD;AACF,OAJD;AAKD,KA9IkB;;AAEjB,SAAKtB,KAAL,GAAa;AACXkC,MAAAA,qBAAqB,EAAE,IADZ;AAEX7B,MAAAA,UAAU,EAAE,KAFD;AAGXJ,MAAAA,WAAW,EAAE,KAHF;AAIXC,MAAAA,UAAU,EAAE,KAJD;AAKXoB,MAAAA,WAAW,EAAE,IALF;AAMXlB,MAAAA,aAAa,EAAE,IANJ;AAOXE,MAAAA,YAAY,EAAE;AAPH,KAAb;AAUA,SAAKiB,WAAL,GAAmB,KAAKA,WAAL,CAAiBe,IAAjB,CAAsB,IAAtB,CAAnB;AACA,SAAKN,kBAAL,GAA0B,KAAKA,kBAAL,CAAwBM,IAAxB,CAA6B,IAA7B,CAA1B;AACA,SAAKH,iBAAL,GAAyB,KAAKA,iBAAL,CAAuBG,IAAvB,CAA4B,IAA5B,CAAzB;AACA,SAAKF,eAAL,GAAuB,KAAKA,eAAL,CAAqBE,IAArB,CAA0B,IAA1B,CAAvB;AACA,SAAK3C,gBAAL,GAAwB,KAAKA,gBAAL,CAAsB2C,IAAtB,CAA2B,IAA3B,CAAxB;AACD;;AA+HDC,EAAAA,MAAM,GAAG;AACP,wBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAI,MAAA,SAAS,EAAC,OAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0CADF,eAEE;AAAK,MAAA,SAAS,EAAC,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,YAAD;AAAc,MAAA,OAAO,EAAE,KAAKT,eAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,EAEG,KAAK9B,KAAL,CAAWK,UAAX,iBACC;AAAO,MAAA,SAAS,EAAC,oBAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oCAHJ,CAFF,eAWE;AAAK,MAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAI,MAAA,SAAS,EAAC,eAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,kBAC8B,GAD9B,CADF,eAIE,oBAAC,MAAD;AACE,MAAA,SAAS,EAAC,oBADZ;AAEE,MAAA,OAAO,EAAEjB,cAFX;AAGE,MAAA,WAAW,EAAE,IAHf;AAIE,MAAA,QAAQ,EAAE,KAAK4C,kBAJjB;AAKE,MAAA,WAAW,EAAC,wBALd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAJF,eAWE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACG,KAAKhC,KAAL,CAAWC,WAAX,iBACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,eAEE,oBAAC,MAAD;AACE,MAAA,SAAS,EAAC,WADZ;AAEE,MAAA,OAAO,EAAEV,eAFX;AAGE,MAAA,WAAW,EAAE,IAHf;AAIE,MAAA,QAAQ,EAAE,KAAK4C,iBAJjB;AAKE,MAAA,WAAW,EAAC,oBALd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,CAFJ,EAaG,KAAKnC,KAAL,CAAWE,UAAX,iBACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,eAEE;AACE,MAAA,WAAW,EAAC,sCADd;AAEE,MAAA,QAAQ,EAAE,KAAKkC,eAFjB;AAGE,MAAA,IAAI,EAAC,IAHP;AAIE,MAAA,IAAI,EAAC,GAJP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,CAdJ,CAXF,CAXF,eAgDE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,eAEE,oBAAC,IAAD;AACE,MAAA,EAAE,EAAC,YADL;AAEE,MAAA,OAAO,EAAE,KAAKzC,gBAFhB;AAGE,MAAA,SAAS,EAAC,cAHZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAFF,CAhDF,CADF;AA6DD;;AA/MmD","sourcesContent":["import React, { Component } from \"react\";\nimport Select from \"react-select\";\nimport ResumeUpload from \"./ResumeUpload\";\nimport Analytics from \"./Analytics\";\nimport { Link } from \"react-router-dom\";\n\nconst jobInfoOptions = [\n  { value: \"job_title\", label: \"Job Title\" },\n  { value: \"job_description\", label: \"Job Description\" },\n];\n\nconst jobTitleOptions = [\n  { value: \"automation_engineer\", label: \"Automation Engineer\" },\n  { value: \"computer_hardware_engineer\", label: \"Computer Hardware Engineer\" },\n  { value: \"data_analyst\", label: \"Data Analyst\" },\n  { value: \"data_engineer\", label: \"Data Engineer\" },\n  { value: \"data_scientist\", label: \"Data Scientist\" },\n  { value: \"electrical_engineer\", label: \"Electrical Engineer\" },\n  { value: \"financial_engineer\", label: \"Financial Engineer\" },\n  { value: \"machine_learning_engineer\", label: \"Machine Learning Engineer\" },\n  { value: \"mechanical_engineer\", label: \"Mechanical Engineer\" },\n  { value: \"network_engineer\", label: \"Network Engineer\" },\n  { value: \"qa_engineer\", label: \"QA Engineer\" },\n  { value: \"quantitative_analyst\", label: \"Quantitative Analyst\" },\n  { value: \"quantitative_finance\", label: \"Quantitative Finance\" },\n  { value: \"quantitative_research\", label: \"Quantitative Research\" },\n  { value: \"quantitative_trading\", label: \"Quantitative Trading\" },\n  { value: \"software_engineer\", label: \"Software Engineer\" },\n  { value: \"systems_engineer\", label: \"Systems Engineer\" },\n  { value: \"technology_analyst\", label: \"Technology Analyst\" },\n];\n\nexport default class ResumeAnalysis extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      selectedCompareOption: null,\n      fileChosen: false,\n      titleChosen: false,\n      descChosen: false,\n      description: null,\n      selectedTitle: null,\n      selectedFile: null,\n    };\n\n    this.fileHandler = this.fileHandler.bind(this);\n    this.handleSearchChange = this.handleSearchChange.bind(this);\n    this.handleTitleChosen = this.handleTitleChosen.bind(this);\n    this.handleDescInput = this.handleDescInput.bind(this);\n    this.handleSubmission = this.handleSubmission.bind(this);\n  }\n\n  handleSubmission = (e) => {\n    console.log(\"HANDLING SUBMISSION\");\n    e.preventDefault();\n    if (!this.state.titleChosen && !this.state.descChosen) {\n      alert(\n        \"Please choose whether you would like to compare a Job Title or Job Description\"\n      );\n      return;\n    } else if (this.state.titleChosen) {\n      if (this.state.selectedTitle !== null) {\n        if (this.state.fileChosen) {\n          console.log(\"Title: \" + this.state.selectedTitle.label);\n\n          // Get file object working\n          console.log(typeof this.state.selectedFile);\n          console.log(this.state.selectedFile);\n\n          let selectedJobTitle = \"\";\n          let label = this.state.selectedTitle.label;\n          jobTitleOptions.forEach((jobTitle) => {\n            if (jobTitle.label == label) selectedJobTitle = jobTitle.value;\n          });\n          let resumeStem = this.state.selectedFile.name.split(\".\")[0];\n          console.log(resumeStem);\n          console.log(typeof resumeStem);\n          let str = `/resume_analysis?keyword=${this.state.selectedTitle.value}&resume=${resumeStem}`;\n          console.log(\"STR: \", str);\n\n          fetch(str)\n            .then((res) => res.json())\n            .then((output) => {\n              console.log(\"RESUME OUTPUT:\", output);\n            });\n\n          window.location.href = \"/analytics\";\n\n          //window.location.href = \"/analytics\";\n        } else {\n          alert(\"Please upload a file\");\n        }\n      } else {\n        alert(\"Please select a job title\");\n      }\n    } else if (this.state.descChosen) {\n      if (this.state.description !== null && this.state.description !== \"\") {\n        if (this.state.fileChosen) {\n          console.log(\"Description: \" + this.state.description);\n          let str = `/job_ad?content=${this.state.description}`;\n          console.log(\"STR: \", str);\n          \n          fetch(str)\n            .then((res) => res.json())\n            .then((output) => {\n              console.log(\"JOB AD OUTPUT:\", output);\n            });\n          //window.location.href = \"/analytics\";\n        } else {\n          alert(\"Please upload a file\");\n        }\n      } else {\n        alert(\"Please enter a description\");\n      }\n    }\n    return;\n  };\n\n  fileHandler = () => {\n    if (this.state.selectedFile) {\n      this.setState({ fileChosen: true }, () => {\n        console.log(this.state.selectedFile);\n        var read = new FileReader();\n        read.readAsText(this.state.selectedFile);\n        read.onloadend = () => {\n          console.log(read.result);\n        };\n\n        console.log(\"YES file chosen\");\n        // alert(\"TODO\");\n      });\n    } else {\n      this.setState({ fileChosen: false }, () => {\n        console.log(\"no file chosen\");\n      });\n    }\n  };\n\n  setSelectedFile = (file) => {\n    this.setState({ selectedFile: file }, () => {\n      this.fileHandler();\n    });\n  };\n\n  handleSearchChange = (selectedOption) => {\n    this.setState({ selectedCompareOption: selectedOption }, () => {\n      if (this.state.selectedCompareOption !== null) {\n        if (selectedOption.value === \"job_title\") {\n          this.setState({ titleChosen: true, descChosen: false });\n        } else if (selectedOption.value === \"job_description\") {\n          this.setState({ titleChosen: false, descChosen: true });\n        }\n        console.log(this.state.selectedCompareOption);\n      } else {\n        this.setState({ titleChosen: false, descChosen: false }, () => {\n          console.log(this.state.selectedCompareOption);\n        });\n      }\n    });\n  };\n\n  handleTitleChosen = (selectedOption) => {\n    this.setState({ selectedTitle: selectedOption }, () => {\n      if (this.state.selectedTitle !== null) {\n        console.log(this.state.selectedTitle.label);\n      }\n    });\n  };\n\n  handleDescInput = (e) => {\n    this.setState({ description: e.target.value }, () => {\n      if (this.state.description !== null) {\n        console.log(this.state.description);\n      }\n    });\n  };\n\n  render() {\n    return (\n      <div>\n        <h1 className=\"title\">Evaluate and Improve Your Resume</h1>\n        <div className=\"resume-upload\">\n          <ResumeUpload setFile={this.setSelectedFile} />\n          {this.state.fileChosen && (\n            <label className=\"file-uploaded-text\">\n              File Successfully Uploaded\n            </label>\n          )}\n        </div>\n\n        <div className=\"job-info\">\n          <h4 className=\"job-info-text\">\n            <b>Step 2: </b>Compare with{\" \"}\n          </h4>\n          <Select\n            className=\"job-info-searchbar\"\n            options={jobInfoOptions}\n            isClearable={true}\n            onChange={this.handleSearchChange}\n            placeholder=\"Select job information\"\n          />\n          <div>\n            {this.state.titleChosen && (\n              <div>\n                <br></br>\n                <Select\n                  className=\"searchbar\"\n                  options={jobTitleOptions}\n                  isClearable={true}\n                  onChange={this.handleTitleChosen}\n                  placeholder=\"Select a job title\"\n                />\n              </div>\n            )}\n            {this.state.descChosen && (\n              <div>\n                <br></br>\n                <textarea\n                  placeHolder=\"Please enter job description here...\"\n                  onChange={this.handleDescInput}\n                  cols=\"60\"\n                  rows=\"7\"\n                />\n              </div>\n            )}\n          </div>\n        </div>\n        <div>\n          <br></br>\n          <Link\n            to=\"/analytics\"\n            onClick={this.handleSubmission}\n            className=\"start-button\"\n          >\n            Start\n          </Link>\n        </div>\n      </div>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}