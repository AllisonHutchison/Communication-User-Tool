{"ast":null,"code":"\"use strict\";\n\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar makeStyles_1 = __importDefault(require(\"@material-ui/styles/makeStyles\"));\n\nvar round_1 = __importDefault(require(\"lodash/round\"));\n\nvar utils_1 = require(\"./utils\");\n\nvar ROTATION_SPEED_MIN = 200; // minimum possible duration of single particle full rotation\n\nvar ROTATION_SPEED_MAX = 800; // maximum possible duration of single particle full rotation\n\nvar CRAZY_PARTICLES_FREQUENCY = 0.1; // 0-1 frequency of crazy curvy unpredictable particles\n\nvar CRAZY_PARTICLE_CRAZINESS = 0.3; // 0-1 how crazy these crazy particles are\n\nvar BEZIER_MEDIAN = 0.5; // utility for mid-point bezier curves, to ensure smooth motion paths\n\nvar rotationKeyframes = utils_1.rotationTransforms.reduce(function (acc, xyz, i) {\n  var _a;\n\n  return __assign(__assign({}, acc), (_a = {}, _a[\"@keyframes rotation-\" + i] = {\n    to: {\n      transform: \"rotate3d(\" + xyz.join() + \", 360deg)\"\n    }\n  }, _a));\n}, {});\n\nvar confettiKeyframes = function confettiKeyframes(degrees, floorHeight, floorWidth) {\n  var xLandingPoints = degrees.reduce(function (acc, degree, i) {\n    var _a;\n\n    var landingPoint = utils_1.mapRange(Math.abs(utils_1.rotate(degree, 90) - 180), 0, 180, -floorWidth / 2, floorWidth / 2);\n    return __assign(__assign({}, acc), (_a = {}, _a[\"@keyframes x-axis-\" + i] = {\n      to: {\n        transform: \"translateX(\" + landingPoint + \"px)\"\n      }\n    }, _a));\n  }, {});\n  return __assign({\n    '@keyframes y-axis': {\n      to: {\n        transform: \"translateY(\" + floorHeight + \"px)\"\n      }\n    }\n  }, xLandingPoints);\n};\n\nvar confettoStyle = function confettoStyle(particle, duration, force, size, i) {\n  var _a;\n\n  var rotation = Math.random() * (ROTATION_SPEED_MAX - ROTATION_SPEED_MIN) + ROTATION_SPEED_MIN;\n  var rotationIndex = Math.round(Math.random() * (utils_1.rotationTransforms.length - 1));\n  var durationChaos = duration - Math.round(Math.random() * 1000);\n  var shouldBeCrazy = Math.random() < CRAZY_PARTICLES_FREQUENCY;\n  var isCircle = utils_1.shouldBeCircle(rotationIndex); // x-axis disturbance, roughly the distance the particle will initially deviate from its target\n\n  var x1 = shouldBeCrazy ? round_1.default(Math.random() * CRAZY_PARTICLE_CRAZINESS, 2) : 0;\n  var x2 = x1 * -1;\n  var x3 = x1; // x-axis arc of explosion, so 90deg and 270deg particles have curve of 1, 0deg and 180deg have 0\n\n  var x4 = round_1.default(Math.abs(utils_1.mapRange(Math.abs(utils_1.rotate(particle.degree, 90) - 180), 0, 180, -1, 1)), 4); // roughly how fast particle reaches end of its explosion curve\n\n  var y1 = round_1.default(Math.random() * BEZIER_MEDIAN, 4); // roughly maps to the distance particle goes before reaching free-fall\n\n  var y2 = round_1.default(Math.random() * force * (utils_1.coinFlip() ? 1 : -1), 4); // roughly how soon the particle transitions from explosion to free-fall\n\n  var y3 = BEZIER_MEDIAN; // roughly the ease of free-fall\n\n  var y4 = round_1.default(Math.max(utils_1.mapRange(Math.abs(particle.degree - 180), 0, 180, force, -force), 0), 4);\n  return _a = {}, _a[\"&#confetti-particle-\" + i] = {\n    animation: \"$x-axis-\" + i + \" \" + durationChaos + \"ms forwards cubic-bezier(\" + x1 + \", \" + x2 + \", \" + x3 + \", \" + x4 + \")\",\n    '& > div': {\n      width: isCircle ? size : Math.round(Math.random() * 4) + size / 2,\n      height: isCircle ? size : Math.round(Math.random() * 2) + size,\n      animation: \"$y-axis \" + durationChaos + \"ms forwards cubic-bezier(\" + y1 + \", \" + y2 + \", \" + y3 + \", \" + y4 + \")\",\n      '&:after': __assign({\n        backgroundColor: particle.color,\n        animation: \"$rotation-\" + rotationIndex + \" \" + rotation + \"ms infinite linear\"\n      }, isCircle ? {\n        borderRadius: '50%'\n      } : {})\n    }\n  }, _a;\n};\n\nvar useStyles = function useStyles(_a) {\n  var particles = _a.particles,\n      duration = _a.duration,\n      floorHeight = _a.floorHeight,\n      floorWidth = _a.floorWidth,\n      force = _a.force,\n      particleSize = _a.particleSize;\n  return makeStyles_1.default(function () {\n    var confettiStyles = particles.reduce(function (acc, particle, i) {\n      return __assign(__assign({}, acc), confettoStyle(particle, duration, force, particleSize, i));\n    }, {});\n    return __assign(__assign(__assign({}, rotationKeyframes), confettiKeyframes(particles.map(function (particle) {\n      return particle.degree;\n    }), floorHeight, floorWidth)), {\n      container: {\n        width: 0,\n        height: 0,\n        position: 'relative',\n        overflow: 'visible',\n        zIndex: 1200\n      },\n      particle: __assign(__assign({}, confettiStyles), {\n        '& > div': {\n          position: 'absolute',\n          left: 0,\n          top: 0,\n          '&:after': {\n            content: \"''\",\n            display: 'block',\n            width: '100%',\n            height: '100%'\n          }\n        }\n      })\n    });\n  }, {\n    name: 'ConfettiExplosion'\n  });\n};\n\nexports.default = useStyles;","map":{"version":3,"sources":["../src/styles.ts"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar makeStyles_1 = __importDefault(require(\"@material-ui/styles/makeStyles\"));\nvar round_1 = __importDefault(require(\"lodash/round\"));\nvar utils_1 = require(\"./utils\");\nvar ROTATION_SPEED_MIN = 200; // minimum possible duration of single particle full rotation\nvar ROTATION_SPEED_MAX = 800; // maximum possible duration of single particle full rotation\nvar CRAZY_PARTICLES_FREQUENCY = 0.1; // 0-1 frequency of crazy curvy unpredictable particles\nvar CRAZY_PARTICLE_CRAZINESS = 0.3; // 0-1 how crazy these crazy particles are\nvar BEZIER_MEDIAN = 0.5; // utility for mid-point bezier curves, to ensure smooth motion paths\nvar rotationKeyframes = utils_1.rotationTransforms.reduce(function (acc, xyz, i) {\n    var _a;\n    return __assign(__assign({}, acc), (_a = {}, _a[\"@keyframes rotation-\" + i] = {\n        to: {\n            transform: \"rotate3d(\" + xyz.join() + \", 360deg)\",\n        },\n    }, _a));\n}, {});\nvar confettiKeyframes = function (degrees, floorHeight, floorWidth) {\n    var xLandingPoints = degrees.reduce(function (acc, degree, i) {\n        var _a;\n        var landingPoint = utils_1.mapRange(Math.abs(utils_1.rotate(degree, 90) - 180), 0, 180, -floorWidth / 2, floorWidth / 2);\n        return __assign(__assign({}, acc), (_a = {}, _a[\"@keyframes x-axis-\" + i] = {\n            to: {\n                transform: \"translateX(\" + landingPoint + \"px)\",\n            },\n        }, _a));\n    }, {});\n    return __assign({ '@keyframes y-axis': {\n            to: {\n                transform: \"translateY(\" + floorHeight + \"px)\",\n            },\n        } }, xLandingPoints);\n};\nvar confettoStyle = function (particle, duration, force, size, i) {\n    var _a;\n    var rotation = Math.random() * (ROTATION_SPEED_MAX - ROTATION_SPEED_MIN) + ROTATION_SPEED_MIN;\n    var rotationIndex = Math.round(Math.random() * (utils_1.rotationTransforms.length - 1));\n    var durationChaos = duration - Math.round(Math.random() * 1000);\n    var shouldBeCrazy = Math.random() < CRAZY_PARTICLES_FREQUENCY;\n    var isCircle = utils_1.shouldBeCircle(rotationIndex);\n    // x-axis disturbance, roughly the distance the particle will initially deviate from its target\n    var x1 = shouldBeCrazy ? round_1.default(Math.random() * CRAZY_PARTICLE_CRAZINESS, 2) : 0;\n    var x2 = x1 * -1;\n    var x3 = x1;\n    // x-axis arc of explosion, so 90deg and 270deg particles have curve of 1, 0deg and 180deg have 0\n    var x4 = round_1.default(Math.abs(utils_1.mapRange(Math.abs(utils_1.rotate(particle.degree, 90) - 180), 0, 180, -1, 1)), 4);\n    // roughly how fast particle reaches end of its explosion curve\n    var y1 = round_1.default(Math.random() * BEZIER_MEDIAN, 4);\n    // roughly maps to the distance particle goes before reaching free-fall\n    var y2 = round_1.default(Math.random() * force * (utils_1.coinFlip() ? 1 : -1), 4);\n    // roughly how soon the particle transitions from explosion to free-fall\n    var y3 = BEZIER_MEDIAN;\n    // roughly the ease of free-fall\n    var y4 = round_1.default(Math.max(utils_1.mapRange(Math.abs(particle.degree - 180), 0, 180, force, -force), 0), 4);\n    return _a = {},\n        _a[\"&#confetti-particle-\" + i] = {\n            animation: \"$x-axis-\" + i + \" \" + durationChaos + \"ms forwards cubic-bezier(\" + x1 + \", \" + x2 + \", \" + x3 + \", \" + x4 + \")\",\n            '& > div': {\n                width: isCircle ? size : Math.round(Math.random() * 4) + size / 2,\n                height: isCircle ? size : Math.round(Math.random() * 2) + size,\n                animation: \"$y-axis \" + durationChaos + \"ms forwards cubic-bezier(\" + y1 + \", \" + y2 + \", \" + y3 + \", \" + y4 + \")\",\n                '&:after': __assign({ backgroundColor: particle.color, animation: \"$rotation-\" + rotationIndex + \" \" + rotation + \"ms infinite linear\" }, (isCircle ? { borderRadius: '50%' } : {})),\n            },\n        },\n        _a;\n};\nvar useStyles = function (_a) {\n    var particles = _a.particles, duration = _a.duration, floorHeight = _a.floorHeight, floorWidth = _a.floorWidth, force = _a.force, particleSize = _a.particleSize;\n    return makeStyles_1.default(function () {\n        var confettiStyles = particles.reduce(function (acc, particle, i) { return (__assign(__assign({}, acc), confettoStyle(particle, duration, force, particleSize, i))); }, {});\n        return __assign(__assign(__assign({}, rotationKeyframes), confettiKeyframes(particles.map(function (particle) { return particle.degree; }), floorHeight, floorWidth)), { container: {\n                width: 0,\n                height: 0,\n                position: 'relative',\n                overflow: 'visible',\n                zIndex: 1200,\n            }, particle: __assign(__assign({}, confettiStyles), { '& > div': {\n                    position: 'absolute',\n                    left: 0,\n                    top: 0,\n                    '&:after': {\n                        content: \"''\",\n                        display: 'block',\n                        width: '100%',\n                        height: '100%',\n                    },\n                } }) });\n    }, { name: 'ConfettiExplosion' });\n};\nexports.default = useStyles;\n//# sourceMappingURL=styles.js.map"]},"metadata":{},"sourceType":"script"}